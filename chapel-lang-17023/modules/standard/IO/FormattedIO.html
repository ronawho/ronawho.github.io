

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FormattedIO &mdash; Chapel Documentation 1.24</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Path" href="../Path.html" />
    <link rel="prev" title="IO" href="../IO.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.24
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.24";
$pagename = "modules/standard/IO/FormattedIO";
include "../../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../standard.html">Standard Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#automatic-modules">Automatic Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#data-structures">Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#diagnostics">Diagnostics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../standard.html#files-io">Files/IO</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../FileSystem.html">FileSystem</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../IO.html">IO</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">FormattedIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#i-o-overview">I/O Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#design-rationale">Design Rationale</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#i-o-styles">I/O Styles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#files">Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#functions-for-channel-creation">Functions for Channel Creation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#synchronization-of-channel-data-and-avoiding-data-races">Synchronization of Channel Data and Avoiding Data Races</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#performing-i-o-with-channels">Performing I/O with Channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#functions-for-closing-channels">Functions for Closing Channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#the-stdin-stdout-and-stderr-channels">The <code class="docutils literal notranslate"><span class="pre">stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, and <code class="docutils literal notranslate"><span class="pre">stderr</span></code> Channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#ensuring-successful-i-o">Ensuring Successful I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#correspondence-to-c-i-o">Correspondence to C I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="../IO.html#io-functions-and-types">IO Functions and Types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Path.html">Path</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#language-support">Language Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#math-numerical">Math/Numerical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#parallelism-distributed-computing">Parallelism/Distributed Computing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#system-interoperability">System/Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#deprecated-modules">Deprecated Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../standard.html#index">Index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../standard.html">Standard Modules</a> &raquo;</li>
        
          <li><a href="../IO.html">IO</a> &raquo;</li>
        
      <li>FormattedIO</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/modules/standard/IO/FormattedIO.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-FormattedIO"></span><div class="section" id="formattedio">
<h1>FormattedIO<a class="headerlink" href="#formattedio" title="Permalink to this headline">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">IO</span><span class="p">.</span><span class="nx">FormattedIO</span><span class="p">;</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nx">IO</span><span class="p">.</span><span class="nx">FormattedIO</span><span class="p">;</span>
</pre></div>
</div>
<p>Support for formatted input and output.</p>
<div class="section" id="formatted-i-o">
<span id="about-io-formatted-io"></span><h2>Formatted I/O<a class="headerlink" href="#formatted-i-o" title="Permalink to this headline">¶</a></h2>
<p>See below for a <a class="reference internal" href="#about-io-formatted-io-overview"><span class="std std-ref">sample-based overview</span></a>
of the format strings. Further below, we describes the format string syntax
<a class="reference internal" href="#about-io-formatted-io-in-detail"><span class="std std-ref">in detail</span></a>. Finally, we demonstrate the
functionality with <a class="reference internal" href="#about-io-formatted-io-examples"><span class="std std-ref">example function calls</span></a>.</p>
<div class="section" id="overview-of-format-strings">
<span id="about-io-formatted-io-overview"></span><h3>Overview of Format Strings<a class="headerlink" href="#overview-of-format-strings" title="Permalink to this headline">¶</a></h3>
<p>In a manner similar to C’s ‘printf’ and ‘scanf’, the IO package includes
<a class="reference internal" href="#FormattedIO.channel.writef" title="FormattedIO.channel.writef"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">channel.writef</span></code></a> and <a class="reference internal" href="#FormattedIO.channel.readf" title="FormattedIO.channel.readf"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">channel.readf</span></code></a> functions. These functions take
in a format string and some arguments. The <a class="reference internal" href="#FormattedIO.string.format" title="FormattedIO.string.format"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">string.format</span></code></a> method is also
available and is loosely equivalent to C’s ‘sprintf’. For example, one might do:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;My favorite %s is %i\n&quot;</span><span class="p">,</span> <span class="s">&quot;number&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">s</span><span class="p">:</span><span class="kt">string</span> <span class="o">=</span> <span class="s">&quot;My favorite %s is %i&quot;</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="s">&quot;number&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>

<span class="c1">// prints:</span>
<span class="c1">// My favorite number is 7</span>
<span class="c1">// My favorite number is 7</span>
</pre></div>
</div>
<p>The following sections offer a tour through the conversions to illustrate the
common cases. A more precise definition follows in the “Format String
Syntax in Detail” section below.</p>
<p>In this file, we use “integral” to refer to the Chapel types int or uint and
“floating-point” to refer to real, imaginary, or complex, of any bit width.</p>
</div>
<div class="section" id="formatted-i-o-for-c-programmers">
<h3>Formatted I/O for C Programmers<a class="headerlink" href="#formatted-i-o-for-c-programmers" title="Permalink to this headline">¶</a></h3>
<p>This table is designed to help C programmers understand the equivalent
Chapel format specifiers.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 16%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>C</p></th>
<th class="head"><p>Chapel</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>%i</p></td>
<td><p>%i</p></td>
<td><p>an integer in decimal</p></td>
</tr>
<tr class="row-odd"><td><p>%d</p></td>
<td><p>%i</p></td>
<td><p>an integer in decimal</p></td>
</tr>
<tr class="row-even"><td><p>%u</p></td>
<td><p>%u</p></td>
<td><p>an unsigned integer in decimal</p></td>
</tr>
<tr class="row-odd"><td><p>%x</p></td>
<td><p>%xu</p></td>
<td><p>an unsigned integer in hexadecimal</p></td>
</tr>
<tr class="row-even"><td><p>%g</p></td>
<td><p>%r</p></td>
<td><p>real number in exponential or decimal (if compact)</p></td>
</tr>
<tr class="row-odd"><td><p>%7.2g</p></td>
<td><p>%7.2r</p></td>
<td><p>real, 2 significant digits, padded to 7 columns</p></td>
</tr>
<tr class="row-even"><td><p>%f</p></td>
<td><p>%dr</p></td>
<td><p>real number always in decimal</p></td>
</tr>
<tr class="row-odd"><td><p>%7.3f</p></td>
<td><p>%7.3dr</p></td>
<td><p>real, 3 digits after <code class="docutils literal notranslate"><span class="pre">.</span></code>, padded to 7 columns</p></td>
</tr>
<tr class="row-even"><td><p>%e</p></td>
<td><p>%er</p></td>
<td><p>real number always in exponential</p></td>
</tr>
<tr class="row-odd"><td><p>%7.3e</p></td>
<td><p>%7.3er</p></td>
<td><p>real, 3 digits after <code class="docutils literal notranslate"><span class="pre">.</span></code>, padded to 7 columns</p></td>
</tr>
<tr class="row-even"><td><p>%s</p></td>
<td><p>%s</p></td>
<td><p>a string without any quoting</p></td>
</tr>
</tbody>
</table>
<p>Unlike in C, a value of the wrong type will be cast appropriately - so for
example printing 2 (an <code class="docutils literal notranslate"><span class="pre">int</span></code>)  with <code class="docutils literal notranslate"><span class="pre">%.2dr</span></code> will result in <code class="docutils literal notranslate"><span class="pre">2.00</span></code>.  Note
that <code class="docutils literal notranslate"><span class="pre">%n</span></code> and <code class="docutils literal notranslate"><span class="pre">%t</span></code> are equivalent to <code class="docutils literal notranslate"><span class="pre">%r</span></code> for real conversions and <code class="docutils literal notranslate"><span class="pre">%i</span></code>
for numeric conversions; so these are also equivalent to <code class="docutils literal notranslate"><span class="pre">%i</span></code> <code class="docutils literal notranslate"><span class="pre">%d</span></code> or
<code class="docutils literal notranslate"><span class="pre">%g</span></code> in C. Also note that Chapel format strings includes many capabilities
not available with C formatted I/O routines - including quoted strings,
binary numbers, complex numbers, and raw binary I/O.</p>
</div>
<div class="section" id="generic-numeric-conversions">
<h3>Generic Numeric Conversions<a class="headerlink" href="#generic-numeric-conversions" title="Permalink to this headline">¶</a></h3>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">%{##.###}</span></code></dt><dd><p>decimal number padded on the left with spaces to 2 digits before
the point, rounded to 3 after. Works with integral, real, imaginary,
or complex arguments.</p>
<p>In all cases, the output is padded on the left to the total length
of the conversion specifier (6 in this example).  The output
can be longer, when needed to accommodate the number.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%{##}</span></code></dt><dd><p>integral value padded out to 2 digits. Also works with real, imaginary
or complex numbers by rounding them to integers. Numbers with more
digits will take up more space instead of being truncated.</p>
</dd>
</dl>
<p>In both conversions above, an imaginary argument gets an ‘i’ afterwards
and the entire expression is padded out to the width of ##### digits.
For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;|${#####}|\n&quot;</span><span class="p">,</span> <span class="m">2.0i</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//   |   2i|</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;|%{#####.#}|\n&quot;</span><span class="p">,</span> <span class="m">2.0i</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//   |   2.0i|</span>
</pre></div>
</div>
<p>Complex arguments are printed in the format a + bi, where each of a and b is
rounded individually as if printed under that conversion on its own. Then, the
formatted complex number is padded to the requested size. For example:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;|%{#########}|\n&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">+</span><span class="m">2.0i</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//   |   1 + 2i|</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;|%{#########.#}|\n&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="o">+</span><span class="m">2.0i</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//   | 1.0 + 2.0i|</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#about-io-formatted-pound-details"><span class="std std-ref"># Specifiers</span></a> for more details
on this conversion type.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%n</span></code></dt><dd><p>a “number” - equivalent to one of %i, %u, %r, %m, or %z below,
depending on the type</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%17n</span></code></dt><dd><p>a number padded out to 17 columns</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.4n</span></code></dt><dd><p>a number with 4 significant digits or a precision of 4</p>
</dd>
</dl>
</div>
<div class="section" id="integral-conversions">
<h3>Integral Conversions<a class="headerlink" href="#integral-conversions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%i</span></code> or <code class="docutils literal notranslate"><span class="pre">%di</span></code></dt><dd><p>a signed integer in decimal, possibly negative
(note - when reading an <code class="docutils literal notranslate"><span class="pre">%i</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code> is allowed)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%u</span></code> or <code class="docutils literal notranslate"><span class="pre">%du</span></code></dt><dd><p>an unsigned decimal integer
(note - when reading a <code class="docutils literal notranslate"><span class="pre">%u</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code> is not allowed)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%bi</span></code></dt><dd><p>a binary signed integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%bu</span></code></dt><dd><p>a binary unsigned integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&#64;bu</span></code></dt><dd><p>a binary unsigned integer prefixed with <code class="docutils literal notranslate"><span class="pre">0b</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%oi</span></code></dt><dd><p>an octal signed integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%ou</span></code></dt><dd><p>an octal unsigned integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&#64;ou</span></code></dt><dd><p>an octal unsigned integer prefixed with <code class="docutils literal notranslate"><span class="pre">0o</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%xu</span></code></dt><dd><p>a hexadecimal unsigned integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%xi</span></code></dt><dd><p>a hexadecimal signed integer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&#64;xu</span></code></dt><dd><p>a hexadecimal unsigned integer prefixed with <code class="docutils literal notranslate"><span class="pre">0x</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%Xu</span></code></dt><dd><p>a hexadecimal unsigned integer in uppercase</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&#64;Xu</span></code></dt><dd><p>a hexadecimal unsigned integer prefixed with <code class="docutils literal notranslate"><span class="pre">0X</span></code> and uppercase</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%17i</span></code></dt><dd><p>a decimal integer padded on the left with spaces to 17 columns
(That is, it is right-justified in a 17-column field.
Padding width is ignored when reading integers)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%*i</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%17i</span></code> but read the minimum width from the preceding argument</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%017i</span></code></dt><dd><p>a decimal integer padded on the left with zeros to 17 columns</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%-17i</span></code></dt><dd><p>a decimal integer left-justified (padded on the right) to 17 columns</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%+i</span></code></dt><dd><p>a decimal integer showing <code class="docutils literal notranslate"><span class="pre">+</span></code> for positive numbers</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">i</span></code></dt><dd><p>a decimal integer with a space for positive numbers</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|4i</span></code></dt><dd><p>output 4 raw, binary bytes of the passed integer in native endianness</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;4i</span></code></dt><dd><p>output 4 raw, binary bytes of the passed integer little endian</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&gt;4i</span></code></dt><dd><p>output 4 raw, binary bytes of the passed integer big endian</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;8i</span></code></dt><dd><p>output 8 raw, binary bytes of the passed integer little endian
(byte widths of 1, 2, 4, and 8 are supported for integral conversions)</p>
</dd>
</dl>
</div>
<div class="section" id="real-conversions">
<h3>Real Conversions<a class="headerlink" href="#real-conversions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%r</span></code></dt><dd><p>a real number with decimal or exponential notation, where
exponential is chosen if the decimal version would be too long</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%r</span></code> but padded on the left to 6 columns (ie right-justified)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%-6r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%r</span></code> but padded on the right to 6 columns (ie left-justified)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.4r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%r</span></code> but with 4 significant digits</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.*r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%.4r</span></code> but with significant digits read from preceding argument</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6.4r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%r</span></code> but padded on the left to 6 columns
and with 4 significant digits</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%*.*r</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%6.4r</span></code> but read minimum width and significant digits from
preceding arguments</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%dr</span></code></dt><dd><p>a real number in decimal notation, e.g. <code class="docutils literal notranslate"><span class="pre">12.34</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6dr</span></code></dt><dd><p>a decimal number padded on the left to 6 columns (right-justified)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.4dr</span></code></dt><dd><p>a decimal number with 4 digits after the radix point</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6.4dr</span></code></dt><dd><p>a decimal number padded on the left to 6 columns and with 4 digits
after the radix point
(width and precision are ignored when reading numbers in readf)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%er</span></code></dt><dd><p>a real number in exponential notation, e.g. <code class="docutils literal notranslate"><span class="pre">8.2e-23</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%Er</span></code></dt><dd><p>like %er but with the ‘e’ in uppercase, e.g. <code class="docutils literal notranslate"><span class="pre">8.2E-23</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.4er</span></code></dt><dd><p>exponential notation with 4 digits after the period, e.g. <code class="docutils literal notranslate"><span class="pre">8.2000e-23</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%xer</span></code></dt><dd><p>hexadecimal number using p to mark exponent e.g. <code class="docutils literal notranslate"><span class="pre">6c.3f7p-2a</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|4r</span></code></dt><dd><p>emit 4 raw, binary bytes of the passed number in native endianness</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;8r</span></code></dt><dd><p>emit 8 raw, binary bytes of the passed number in little endian</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;4r</span></code></dt><dd><p>emit 4 raw, binary bytes of the passed number in little endian
(<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> <code class="docutils literal notranslate"><span class="pre">|</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> are supported for widths 4 or 8)</p>
</dd>
</dl>
</div>
<div class="section" id="complex-and-imaginary-conversions">
<h3>Complex and Imaginary Conversions<a class="headerlink" href="#complex-and-imaginary-conversions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%m</span></code></dt><dd><p>an imaginary number, like a real with <code class="docutils literal notranslate"><span class="pre">%r</span></code> but ends with an <code class="docutils literal notranslate"><span class="pre">i</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%z</span></code></dt><dd><p>print complex number with <code class="docutils literal notranslate"><span class="pre">%r</span></code> for each part in the format <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">bi</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&#64;z</span></code></dt><dd><p>print complex number with <code class="docutils literal notranslate"><span class="pre">%r</span></code> for each part in the format <code class="docutils literal notranslate"><span class="pre">(a,b)</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6z</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%z</span></code> but pad the entire complex number out to 6 columns</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%6.4z</span></code></dt><dd><p>print a and b 4 significant digits and pad the entire complex
number out to 6 columns</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%dz</span></code></dt><dd><p>print a and b with <code class="docutils literal notranslate"><span class="pre">%dr</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%ez</span></code></dt><dd><p>print a and b with <code class="docutils literal notranslate"><span class="pre">%er</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|4m</span></code></dt><dd><p>same as <code class="docutils literal notranslate"><span class="pre">%|4r</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|8z</span></code></dt><dd><p>emit 8 raw, binary bytes of native-endian complex (a,b are each 4 bytes)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;16z</span></code></dt><dd><p>emit 16 raw, binary bytes of little-endian complex (a,b each 8 bytes)</p>
</dd>
</dl>
</div>
<div class="section" id="string-and-bytes-conversions">
<h3>String and Bytes Conversions<a class="headerlink" href="#string-and-bytes-conversions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%s</span></code></dt><dd><p>a string. When reading, read until whitespace.
Note that if you want to be able to read your string back in,
you should use one of the quoted or encoded binary versions (see below),
since generally with %s it’s not clear where the string ends.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%c</span></code></dt><dd><p>a single Unicode character (argument should be a string or an integral
storing the character code)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%17s</span></code></dt><dd><ul class="simple">
<li><p>when writing - a string left padded (right justified) to 17 columns</p></li>
<li><p>when reading - read up to 17 bytes or a whitespace, whichever comes
first, rounding down to whole characters</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%-17s</span></code></dt><dd><ul class="simple">
<li><p>when writing - a string right padded (left justified) to 17 columns</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%.17s</span></code></dt><dd><ul class="simple">
<li><p>when writing - a string truncated to 17 columns. When combined
with quoting strings, for example <code class="docutils literal notranslate"><span class="pre">%.17&quot;S</span></code>, the conversion
will print … after a string if it was truncated. The
truncation includes leaving room for the quotes and -
if needed - the periods, so the shortest truncated
string is <code class="docutils literal notranslate"><span class="pre">&quot;&quot;...</span></code>  Generally, you won’t be able to read
these back in.</p></li>
<li><p>when reading - read exactly 17 Unicode codepoints</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|17s</span></code></dt><dd><ul class="simple">
<li><p>when writing - emit string but cause runtime error if length
does not match</p></li>
<li><p>when reading - read exactly 17 bytes (error if we read &lt; 17 bytes)</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|*s</span></code></dt><dd><p>as with %17s but the length is specified in the argument before the string.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&quot;S</span></code></dt><dd><p>use double-quotes to delimit string</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%'S</span></code></dt><dd><p>use single-quotes to delimit string</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%cS</span></code></dt><dd><p>use any character (c) to delimit string</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%{(S)}</span></code></dt><dd><p>quoted string, starting with <code class="docutils literal notranslate"><span class="pre">(</span></code>, ending with <code class="docutils literal notranslate"><span class="pre">)</span></code>, where the
parens could be replaced by arbitrary characters</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%*S</span></code></dt><dd><p>quoted string, the arg before the string to specifies quote character</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|0S</span></code></dt><dd><p>write a string null-terminated or read bytes until a null-terminator</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|*S</span></code></dt><dd><p>means read bytes until a terminator byte. The terminator byte is read
from the argument before the string.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|1S</span></code> <code class="docutils literal notranslate"><span class="pre">%|2S</span></code> <code class="docutils literal notranslate"><span class="pre">%|4S</span></code> and <code class="docutils literal notranslate"><span class="pre">%|8S</span></code></dt><dd><p>work with encoded strings storing a length
and then the string data. The digit before <code class="docutils literal notranslate"><span class="pre">S</span></code> is
the number of bytes of length which is by default
stored native endian. <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> can be used
to specify the endianness of the length field,
for example <code class="docutils literal notranslate"><span class="pre">%&lt;8S</span></code> is 8 bytes of little-endian length
and then string data.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|vS</span></code></dt><dd><p>as with <code class="docutils literal notranslate"><span class="pre">%|1S</span></code>-<code class="docutils literal notranslate"><span class="pre">%|8S</span></code> but the string length is encoded using a
variable-length byte scheme (which is always the same no matter what
endianness). In this scheme, the high bit of each encoded length byte
records whether or not there are more length bytes (and the remaining
bits encode the length in a big-endian manner).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|*vS</span></code> or <code class="docutils literal notranslate"><span class="pre">%|*0S</span></code></dt><dd><p>read an encoded string but limit it to a number of bytes
read from the argument before the string; when writing
cause a runtime error if the string is longer than the
maximum.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%/a+/</span></code></dt><dd><p>where any regular expression can be used instead of <code class="docutils literal notranslate"><span class="pre">a+</span></code>
consume one or more ‘a’s when reading, gives an error when printing,
and does not assign to any arguments
(note - regular expression support is dependent on RE2 build;
see <a class="reference internal" href="../Regexp.html#module-Regexp" title="Regexp: Regular expression support."><code class="xref chpl chpl-mod docutils literal notranslate"><span class="pre">Regexp</span></code></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%/(a+)/</span></code></dt><dd><p>consume one or more ‘a’s and then set the corresponding string
argument to the read value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%17/a+/</span></code></dt><dd><p>match a regular expression up to 17 bytes
(note that <code class="docutils literal notranslate"><span class="pre">%.17/a+/</span></code>, which would mean to match 17 characters,
is not supported).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%/*/</span></code></dt><dd><p>next argument contains the regular expression to match</p>
</dd>
</dl>
</div>
<div class="section" id="general-conversions">
<h3>General Conversions<a class="headerlink" href="#general-conversions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%t</span></code></dt><dd><p>read or write the object according to its readThis/writeThis routine</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%jt</span></code></dt><dd><p>read or write an object in JSON format using readThis/writeThis</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%ht</span></code></dt><dd><p>read or write an object in Chapel syntax using readThis/writeThis</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%|t</span></code></dt><dd><p>read or write an object in binary native-endian with readThis/writeThis</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&lt;t</span></code></dt><dd><p>read or write an object little-endian in binary with readThis/writeThis</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%&gt;t</span></code></dt><dd><p>read or write an object big-endian in binary with readThis/writeThis</p>
</dd>
</dl>
</div>
<div class="section" id="note-about-whitespace">
<h3>Note About Whitespace<a class="headerlink" href="#note-about-whitespace" title="Permalink to this headline">¶</a></h3>
<p>When reading, <code class="docutils literal notranslate"><span class="pre">\n</span></code> in a format string matches any zero or more space
characters other than newline and then exactly one newline character. In
contrast, <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code> matches at least one space character of any kind.</p>
<p>When writing, whitespace is printed from the format string just like any
other literal would be.</p>
<p>Finally, space characters after a binary conversion will be ignored, so
that a binary format string can appear more readable.</p>
</div>
<div class="section" id="format-string-syntax-in-detail">
<span id="about-io-formatted-io-in-detail"></span><h3>Format String Syntax in Detail<a class="headerlink" href="#format-string-syntax-in-detail" title="Permalink to this headline">¶</a></h3>
<p>Chapel’s format strings are simpler than those in C in one way: it is no longer
necessary to specify the types of the arguments in the format string. For
example, in C the l in %ld is specifying the type of the argument for integer
(decimal) conversion. That is not necessary in Chapel since the compiler is
able to use type information from the call.</p>
<p>Format strings in Chapel consist of:</p>
<blockquote>
<div><ul>
<li><p>conversion specifiers e.g. <code class="docutils literal notranslate"><span class="pre">&quot;%xi&quot;</span></code> (described below)</p></li>
<li><p>newline e.g. <code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;</span></code></p>
<ul class="simple">
<li><p>when writing - prints a newline</p></li>
<li><p>when reading - reads any amount of non-newline whitespace and then
exactly one newline. Causes the format string not to
match if it did not read a newline.</p></li>
</ul>
</li>
<li><p>other whitespace e.g. <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p>when writing - prints as the specified whitespace</p></li>
<li><p>when reading - matches at least one character of whitespace, possibly
including newlines.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>other text e.g. “test”</p>
<blockquote>
<div><ul class="simple">
<li><p>when writing - prints the specified text</p></li>
<li><p>when reading - matches the specified text</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="specifiers">
<span id="about-io-formatted-pound-details"></span><h3># Specifiers<a class="headerlink" href="#specifiers" title="Permalink to this headline">¶</a></h3>
<p>All # specifiers must be enclosed in <code class="docutils literal notranslate"><span class="pre">%{}</span></code> syntax, for example <code class="docutils literal notranslate"><span class="pre">%{#}</span></code> is the
shortest one, and <code class="docutils literal notranslate"><span class="pre">%{#.#}</span></code> is a more typical one. The integer portion of the
number will be padded out to match the number of <code class="docutils literal notranslate"><span class="pre">#</span></code> s before the decimal
point, and the number of <code class="docutils literal notranslate"><span class="pre">#</span></code> s after the decimal point indicate how many
digits to print after the decimal point. In other words, display how many
digits to use when printing a floating-point number by using the # symbol to
stand for digits. The fractional portion of the number will be rounded
appropriately and extra space will be made if the integer portion is too small:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;n:%{###.###}\n&quot;</span><span class="p">,</span> <span class="mf">1.2349</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// n:  1.235</span>
</pre></div>
</div>
<p>This syntax also works for numbers without a decimal point by rounding them
appropriately.</p>
<p>A # specifier may start with a <code class="docutils literal notranslate"><span class="pre">.</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%{.##}\n&quot;</span><span class="p">,</span> <span class="mf">0.777</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//  0.78</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>% Specifiers<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Specifiers starting with % offer quite a few options. First, some basic
rules.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">%%</span></code></dt><dd><p>means a literal <code class="docutils literal notranslate"><span class="pre">%</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\n</span></code></dt><dd><p>means a literal newline</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">\\</span></code></dt><dd><p>means a single backslash</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%{}</span></code></dt><dd><p>curly braces can wrap a <code class="docutils literal notranslate"><span class="pre">%</span></code> or <code class="docutils literal notranslate"><span class="pre">#</span></code> conversion specifier. That way, even
odd specifiers can be interpreted unambiguously. Some of the more complex
features require the use of the <code class="docutils literal notranslate"><span class="pre">%{}</span></code> syntax, but it’s always
acceptable to use curly braces to make the format string clearer.
Curly braces are required for # conversion specifiers.</p>
</dd>
</dl>
<p>In general, a <code class="docutils literal notranslate"><span class="pre">%</span></code> specifier consists of either text or binary conversions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span>
<span class="p">[</span><span class="n">optional</span> <span class="n">endian</span> <span class="n">flag</span> <span class="p">(</span><span class="n">binary</span> <span class="n">conversions</span> <span class="n">only</span><span class="p">)]</span>
<span class="p">[</span><span class="n">optional</span> <span class="n">flags</span><span class="p">]</span>
<span class="p">[</span><span class="n">optional</span> <span class="n">field</span> <span class="n">width</span> <span class="ow">or</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span><span class="p">]</span>
<span class="p">[</span><span class="n">optional</span> <span class="o">.</span> <span class="n">then</span> <span class="n">precision</span><span class="p">]</span>
<span class="p">[</span><span class="n">optional</span> <span class="n">base</span> <span class="n">flag</span><span class="p">]</span>
<span class="p">[</span><span class="n">optional</span> <span class="n">exponential</span> <span class="nb">type</span><span class="p">]</span>
<span class="p">[</span><span class="n">conversion</span> <span class="nb">type</span><span class="p">]</span>
</pre></div>
</div>
<p>Going through each section for text conversions:</p>
<dl>
<dt>[optional flags]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&#64;</span></code></dt><dd><p>means “alternate form”. It means to print out a base when not using
decimal (e.g. <code class="docutils literal notranslate"><span class="pre">0xFFF</span></code> or <code class="docutils literal notranslate"><span class="pre">0b101011</span></code>); and it will format a complex
number with parens instead of as e.g. <code class="docutils literal notranslate"><span class="pre">1.0+2.0i</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">+</span></code></dt><dd><p>means to show a plus sign when printing positive numbers</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">0</span></code></dt><dd><p>means to pad numeric conversions with 0 instead of space</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code></dt><dd><p>(a space) leaves a blank before a positive number
(in order to help line up with negative numbers)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-</span></code></dt><dd><p>left-justify the converted value instead of right-justifying.
Note, if both <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">-</span></code> are given, the effect is as if only <code class="docutils literal notranslate"><span class="pre">-</span></code>
were given.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">~</span></code></dt><dd><p>when reading a record or class instance, skip over fields in the input not
present in the Chapel type. This flag currently only works in combination
with the JSON format.  This flag allows a Chapel program to describe only the
relevant fields in a record when the input might contain many more fields.</p>
</dd>
</dl>
</dd>
<dt>[optional field width]</dt><dd><p>When printing numeric or string values, the field width specifies the number
of <em>columns</em> that the conversion should use to display the value. It can be
<code class="docutils literal notranslate"><span class="pre">*</span></code>, which means to read the field width from an integral argument before
the converted value.</p>
<p>For string conversions in readf (<code class="docutils literal notranslate"><span class="pre">%s</span></code> <code class="docutils literal notranslate"><span class="pre">%&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">%'</span></code> <code class="docutils literal notranslate"><span class="pre">%//</span></code>), the field
width specifies the maximum number of bytes to read.</p>
<p>For numeric conversions in readf, the field width is ignored.</p>
</dd>
<dt>[optional . then precision]</dt><dd><p>When printing floating point values, the precision is used to control
the number of decimal digits to print.  For <code class="docutils literal notranslate"><span class="pre">%r</span></code> conversions, it
specifies the number of significant digits to print; for <code class="docutils literal notranslate"><span class="pre">%dr</span></code> or <code class="docutils literal notranslate"><span class="pre">%er</span></code>
conversions, it specifies the number of digits following the decimal point.
It can also be <code class="docutils literal notranslate"><span class="pre">*</span></code>, which means to read the precision from an integral
argument before the converted value.</p>
<p>For textual string conversions in writef, (<code class="docutils literal notranslate"><span class="pre">%s</span></code> <code class="docutils literal notranslate"><span class="pre">%&quot;</span></code> <code class="docutils literal notranslate"><span class="pre">%'</span></code>), the
precision indicates the maximum number of columns to print - and the result
will be truncated if it does not fit. In readf for these textual string
conversions, the precision indicates the maximum number of characters
(e.g. Unicode codepoints) to input.</p>
<p>The precision is silently ignored for integral conversions
(<code class="docutils literal notranslate"><span class="pre">%i</span></code>, <code class="docutils literal notranslate"><span class="pre">%u</span></code>, etc) and for <code class="docutils literal notranslate"><span class="pre">%//</span></code> conversions.</p>
</dd>
<dt>[optional base flag]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">d</span></code></dt><dd><p>means decimal (and not exponential for floating-point)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt><dd><p>means lower-case hexadecimal</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">X</span></code></dt><dd><p>means upper-case hexadecimal</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">o</span></code></dt><dd><p>means octal</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt><dd><p>means binary</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">j</span></code></dt><dd><p>means JSON-style strings, numbers, and structures</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">h</span></code></dt><dd><p>means Chapel-style strings, numbers, and structures</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'</span></code></dt><dd><p>means single-quoted string (with \ and ')</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;</span></code></dt><dd><p>means double-quoted string (with \ and &quot;)</p>
</dd>
</dl>
</dd>
<dt>[optional exponential type]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">e</span></code></dt><dd><p>means floating-point conversion printing exponential <code class="docutils literal notranslate"><span class="pre">-12.34e+56</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">E</span></code></dt><dd><p>means floating-point conversion printing uppercase
exponential <code class="docutils literal notranslate"><span class="pre">-12.34E+56</span></code></p>
</dd>
</dl>
</dd>
<dt>[conversion type]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">t</span></code></dt><dd><p>means <em>type-based</em> or <em>thing</em> - uses writeThis/readThis but ignores
width. Precision will impact any floating point values output
in this conversion.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n</span></code></dt><dd><p>means type-based number, allowing width and precision</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">i</span></code></dt><dd><p>means integral conversion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u</span></code></dt><dd><p>means unsigned integral conversion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt><dd><p>means real conversion (e.g. <code class="docutils literal notranslate"><span class="pre">12.23</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m</span></code></dt><dd><p>means imaginary conversion with an <code class="docutils literal notranslate"><span class="pre">i</span></code> after it (e.g. <code class="docutils literal notranslate"><span class="pre">12.23i</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">z</span></code></dt><dd><p>means complex conversion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">s</span></code></dt><dd><p>means string conversion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">S</span></code></dt><dd><p>means a quoted string conversion</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{cS}</span></code></dt><dd><p>means string conversion with quote char <em>c</em></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{*S}</span></code></dt><dd><p>means string conversion with quote char in argument before the string</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{xSy}</span></code></dt><dd><p>means string conversion with left and right quote chars <em>x</em> and <em>y</em></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">/.../</span></code></dt><dd><p>means a regular expression (for reading only)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{/.../xyz}</span></code></dt><dd><p>means regular expression with flags <em>xyz</em></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c</span></code></dt><dd><p>means a Unicode character - either the first character in a string
or an integral character code</p>
</dd>
</dl>
</dd>
</dl>
<p>For binary conversions:</p>
<dl>
<dt>[optional endian flag]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></dt><dd><p>means little-endian</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></dt><dd><p>means big-endian</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">|</span></code></dt><dd><p>means native-endian</p>
</dd>
</dl>
</dd>
<dt>[optional size in bytes]</dt><dd><p>This is the number of bytes the format should read or write in this
conversion. For integral conversions (e.g. <code class="docutils literal notranslate"><span class="pre">%|i</span></code>) it specifies the number
of bytes in the integer, and 1, 2, 4, and 8 are supported. For real and
imaginary conversions, 4 and 8 are supported. For complex conversions,
8 and 16 are supported. The size in bytes is <em>required</em> for binary
integral and floating-point conversions.</p>
<p>The size can be <code class="docutils literal notranslate"><span class="pre">*</span></code>, which means that the number of bytes is read
from the argument before the conversion.</p>
<p>For strings, if a terminator or length field is specified, exactly this
number is the maximum size in bytes; if the terminator or length is not
specified, the string must be exactly that size (and if the argument is not
exactly that number of bytes it will cause an error even when writing).</p>
</dd>
<dt>[conversion type]</dt><dd><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">t</span></code></dt><dd><p>means <em>type-based</em> or <em>thing</em> - to read or write with readThis/writeThis</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n</span></code></dt><dd><p>means type-based number (size is not mandatory)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">i</span></code></dt><dd><p>means integral. Note that the size is mandatory for binary integral
conversions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u</span></code></dt><dd><p>means unsigned integral. Note that the size is mandatory for binary
integral conversions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt><dd><p>means real. Note that the size is mandatory for binary real conversions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m</span></code></dt><dd><p>works the same as <code class="docutils literal notranslate"><span class="pre">r</span></code> for binary conversions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">z</span></code></dt><dd><p>means complex. Note that the size is mandatory for binary complex
conversions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">s</span></code></dt><dd><ul class="simple">
<li><p>means string binary I/O</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|17s</span></code> means exactly 17 byte string</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">0S</span></code>/<code class="docutils literal notranslate"><span class="pre">1S</span></code>/<code class="docutils literal notranslate"><span class="pre">2S</span></code>/<code class="docutils literal notranslate"><span class="pre">4S</span></code>/<code class="docutils literal notranslate"><span class="pre">8S</span></code></dt><dd><ul class="simple">
<li><p>mean encoded string binary I/O:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|0S</span></code> means null-terminated string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%{|S*}</span></code> means  next-argument specifies string terminator byte</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|1S</span></code> means a one-byte length and then the string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|2S</span></code> means a two-byte length and then the string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|4S</span></code> means a four-byte length and then the string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|8S</span></code> means an eight-byte length and then the string</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%|vS</span></code> means a variable-byte-encoded length and then the string</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c</span></code></dt><dd><p>means a Unicode character - either the first character in a string
or an integral character code</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="formatted-i-o-examples">
<span id="about-io-formatted-io-examples"></span><h3>Formatted I/O Examples<a class="headerlink" href="#formatted-i-o-examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%5i %5s %5r\n&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">,</span> <span class="mf">6.34</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//    1  test  6.34</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%2.4z\n&quot;</span><span class="p">,</span> <span class="mf">43.291</span> <span class="o">+</span> <span class="m">279.112i</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// 43.29 + 279.1i</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&lt;4u&quot;</span><span class="p">,</span> <span class="mh">0x11223344</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 4433 2211</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&gt;4u&quot;</span><span class="p">,</span> <span class="mh">0x11223344</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 1122 3344</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&lt;4i %&lt;4i&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output -- note that spaces after</span>
     <span class="c1">//  a binary format specifier are ignored)</span>
     <span class="c1">// 0200 0000 2000 0000</span>


<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%|0S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 7465 7374 000a</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%|1S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 0474 6573 740a</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&gt;2S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 0004 7465 7374 0a</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&gt;4S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 0000 0004 7465 7374 0a</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&gt;8S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 0000 0000 0000 0004 7465 7374 0a</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%|vS\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (hexdump of the output)</span>
     <span class="c1">// 04 7465 7374 0a</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&#39;%&quot;S\n&#39;</span><span class="p">,</span> <span class="s">&quot;test \&quot;\&quot; \&#39;\&#39; !&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// &quot;test \&quot;\&quot; &#39;&#39; !&quot;</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%&#39;S\n&quot;</span><span class="p">,</span> <span class="s">&quot;test \&quot;\&quot; \&#39;\&#39; !&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// &#39;test &quot;&quot; \&#39;\&#39; !&#39;</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%{(S)}\n&quot;</span><span class="p">,</span> <span class="s">&quot;test ()&quot;</span><span class="p">,</span> <span class="s">&quot;(&quot;</span><span class="p">,</span> <span class="s">&quot;)&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// (test (\))</span>


<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%40s|\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%-40s|\n&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">//                                     test|</span>
     <span class="c1">// test                                    |</span>

<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;123456\n&quot;</span><span class="p">);</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%6.6&#39;S\n&quot;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%6.6&#39;S\n&quot;</span><span class="p">,</span> <span class="s">&quot;abcdefg&quot;</span><span class="p">);</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%.3&#39;S\n&quot;</span><span class="p">,</span> <span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="nx">writef</span><span class="p">(</span><span class="s">&quot;%.3&#39;S\n&quot;</span><span class="p">,</span> <span class="s">&quot;abcd&quot;</span><span class="p">);</span>
     <span class="c1">// outputs:</span>
     <span class="c1">// 123456</span>
     <span class="c1">//    &#39;a&#39;</span>
     <span class="c1">// &#39;a&#39;...</span>
     <span class="c1">// &#39;a&#39;</span>
     <span class="c1">// &#39;&#39;...</span>


<span class="kd">var</span> <span class="nx">s</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="nx">readf</span><span class="p">(</span><span class="s">&quot; %c&quot;</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="c1">// if the input is &quot; a&quot;, &quot;\na&quot;, &quot;  a&quot;, etc, s will contain &quot;a&quot;</span>
<span class="c1">// if the input is &quot;b&quot;, got will be false and s will contain &quot;&quot;</span>

<span class="kd">var</span> <span class="nx">s</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="nx">readf</span><span class="p">(</span><span class="s">&quot;\n%c&quot;</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="c1">// if the input is &quot;\na&quot;, or &quot; \na&quot;, s will contain &quot;a&quot;</span>
<span class="c1">// if the input is &quot;b&quot;, got will be false and s will be &quot;&quot;</span>

<span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="nx">readf</span><span class="p">(</span><span class="s">&quot;%/a+/&quot;</span><span class="p">);</span>
<span class="c1">// if the input is &quot;a&quot; or &quot;aa&quot; (and so on), got will return true</span>
<span class="c1">// if the input is &quot;c&quot; got will be false</span>

<span class="kd">var</span> <span class="nx">s</span><span class="p">:</span><span class="kt">string</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">got</span> <span class="o">=</span> <span class="nx">readf</span><span class="p">(</span><span class="s">&quot;%/a(b+)/&quot;</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="c1">// if the input is &quot;c&quot; got will be false and s will be &quot;&quot;</span>
<span class="c1">// if the input is &quot;ab&quot;, got will be true and s will be &quot;b&quot;</span>
<span class="c1">// if the input is &quot;abb&quot;, got will be true and s will be &quot;bb&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="formattedio-functions-and-types">
<h2>FormattedIO Functions and Types<a class="headerlink" href="#formattedio-functions-and-types" title="Permalink to this headline">¶</a></h2>
<dl class="chpl method">
<dt id="FormattedIO.channel._writefOne">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">_writefOne</code><span class="sig-paren">(</span><em class="sig-param">fmtStr</em>, <em class="sig-param">ref arg</em>, <em class="sig-param">i: int</em>, <em class="sig-param">ref cur: size_t</em>, <em class="sig-param">ref j: int</em>, <em class="sig-param">ref r: unmanaged nilable _channel_regexp_info</em>, <em class="sig-param">argType: c_ptr(c_int)</em>, <em class="sig-param">argTypeLen: int</em>, <em class="sig-param">ref conv: qio_conv_t</em>, <em class="sig-param">ref gotConv: bool</em>, <em class="sig-param">ref style: iostyle</em>, <em class="sig-param">ref err: syserr</em>, <em class="sig-param">origLocale: locale</em>, <em class="sig-param">len: size_t</em><span class="sig-paren">)</span> throws<a class="headerlink" href="#FormattedIO.channel._writefOne" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.writef">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">writef</code><span class="sig-paren">(</span><em class="sig-param">fmtStr: ?t</em>, <em class="sig-param">const args ...?k</em><span class="sig-paren">)</span>: bool throws<a class="headerlink" href="#FormattedIO.channel.writef" title="Permalink to this definition">¶</a></dt>
<dd><p>Write arguments according to a format. See
<a class="reference internal" href="#about-io-formatted-io"><span class="std std-ref">Formatted I/O</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> – the format as string or bytes</p></li>
<li><p><strong>args</strong> – 0 or more arguments to write</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true</p>
</dd>
<dt class="field-odd">Throws</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>IllegalArgumentError</strong> – if an unsupported argument type is encountered.</p></li>
<li><p><strong>SystemError</strong> – if the arguments could not be written.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt>
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">writef</code><span class="sig-paren">(</span><em class="sig-param">fmtStr: ?t</em><span class="sig-paren">)</span>: bool throws</dt>
<dd></dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.readf">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">readf</code><span class="sig-paren">(</span><em class="sig-param">fmtStr: ?t</em>, <em class="sig-param">ref args ...?k</em><span class="sig-paren">)</span>: bool throws<a class="headerlink" href="#FormattedIO.channel.readf" title="Permalink to this definition">¶</a></dt>
<dd><p>Read arguments according to a format. See
<a class="reference internal" href="#about-io-formatted-io"><span class="std std-ref">Formatted I/O</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Intents for all arguments except the format string are <cite>ref</cite>. If <cite>readf</cite>
is used with formats that require an additional argument such as <cite>%*i</cite> and
<cite>%*S</cite>, then those arguments cannot be constants. Instead, store the value
into a variable and pass that.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> – the format as string or bytes</p></li>
<li><p><strong>args</strong> – the arguments to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if all arguments were read according to the format string,
false on EOF.</p>
</dd>
<dt class="field-odd">Throws</dt>
<dd class="field-odd"><p><strong>SystemError</strong> – Thrown if the arguments could not be read.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl function">
<dt id="FormattedIO.readf">
<em class="property">proc </em><code class="sig-name descname">readf</code><span class="sig-paren">(</span><em class="sig-param">fmt: string</em>, <em class="sig-param">ref args ...?k</em><span class="sig-paren">)</span>: bool throws<a class="headerlink" href="#FormattedIO.readf" title="Permalink to this definition">¶</a></dt>
<dd><p>Call <code class="docutils literal notranslate"><span class="pre">stdin.readf</span></code>; see <a class="reference internal" href="#FormattedIO.channel.readf" title="FormattedIO.channel.readf"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">channel.readf</span></code></a>.</p>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.skipField">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">skipField</code><span class="sig-paren">(</span><span class="sig-paren">)</span> throws<a class="headerlink" href="#FormattedIO.channel.skipField" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip a field in the current aggregate format. This method is currently only
supported for JSON format and returns ENOTSUP for other formats. In other
formats, it may not be possible in general to know when a field ends.</p>
<p>The field skipped includes a field name and value but not a following
separator. For example, for a JSON format channel, given the input:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;fieldName&quot;</span><span class="p">:</span><span class="s2">&quot;fieldValue&quot;</span><span class="p">,</span> <span class="s2">&quot;otherField&quot;</span><span class="p">:</span><span class="mi">3</span>
</pre></div>
</div>
<p>this function will skip to (but leave unread) the comma after
the first field value.</p>
<dl class="field-list simple">
<dt class="field-odd">Throws</dt>
<dd class="field-odd"><p><strong>SystemError</strong> – Thrown if the field could not be skipped.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.string.format">
<em class="property">proc </em><code class="sig-prename descclassname">string.</code><code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">args ...?k</em><span class="sig-paren">)</span>: string throws<a class="headerlink" href="#FormattedIO.string.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new string consisting of values formatted according to a
format string.  See <a class="reference internal" href="#about-io-formatted-io"><span class="std std-ref">Formatted I/O</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this</strong> – the format string</p></li>
<li><p><strong>args</strong> – the arguments to format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the resulting string</p>
</dd>
<dt class="field-odd">Throws</dt>
<dd class="field-odd"><p><strong>SystemError</strong> – Thrown if the string could not be formatted.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.bytes.format">
<em class="property">proc </em><code class="sig-prename descclassname">bytes.</code><code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">args ...?k</em><span class="sig-paren">)</span>: bytes throws<a class="headerlink" href="#FormattedIO.bytes.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new bytes consisting of values formatted according to a
format bytes.  See <a class="reference internal" href="#about-io-formatted-io"><span class="std std-ref">Formatted I/O</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this</strong> – the format bytes</p></li>
<li><p><strong>args</strong> – the arguments to format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the resulting bytes</p>
</dd>
<dt class="field-odd">Throws</dt>
<dd class="field-odd"><p><strong>SystemError</strong> – Thrown if the bytes could not be formatted.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.extractMatch">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">extractMatch</code><span class="sig-paren">(</span><em class="sig-param">m: reMatch</em>, <em class="sig-param">ref arg</em><span class="sig-paren">)</span> throws<a class="headerlink" href="#FormattedIO.channel.extractMatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets arg to the string of a match.</p>
<p>Assumes that the channel has been marked before where
the captures are being returned. Will change the channel
position to just after the match. Will not do anything
if error is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – a <a class="reference internal" href="../Regexp.html#Regexp.reMatch" title="Regexp.reMatch"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.reMatch</span></code></a> storing a location that matched</p></li>
<li><p><strong>arg</strong> – an argument to retrieve the match into. If it is not a string,
the string match will be cast to arg.type.</p></li>
</ul>
</dd>
<dt class="field-even">Throws</dt>
<dd class="field-even"><p><strong>SystemError</strong> – Thrown if a match could not be extracted.</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.search">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">re: regexp(?)</em>, <em class="sig-param">ref captures ...?k</em><span class="sig-paren">)</span>: reMatch throws<a class="headerlink" href="#FormattedIO.channel.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for an offset in the channel matching the
passed regular expression, possibly pulling out capture groups.
If there is a match, leaves the channel position at the
match. If there is no match, the channel position will be
advanced to the end of the channel (or end of the file).</p>
<p>Throws a SystemError if an error occurs.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>re</strong> – a <a class="reference internal" href="../Regexp.html#Regexp.regexp" title="Regexp.regexp"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.regexp</span></code></a> record representing a compiled
regular expression.</p></li>
<li><p><strong>captures</strong> – an optional variable number of arguments in which to
store the regions of the file matching the capture groups
in the regular expression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the region of the channel that matched</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl method">
<dt id="FormattedIO.channel.match">
<em class="property">proc </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param">re: regexp(?)</em>, <em class="sig-param">ref captures ...?k</em>, <em class="sig-param">ref error: syserr</em><span class="sig-paren">)</span>: reMatch<a class="headerlink" href="#FormattedIO.channel.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match, starting at the current position in the channel,
against a regexp, possibly pulling out capture groups.
If there was a match, leaves the channel position at
the match. If there was no match, leaves the channel
position where it was at the start of this call.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>re</strong> – a <a class="reference internal" href="../Regexp.html#Regexp.regexp" title="Regexp.regexp"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.regexp</span></code></a> record representing a compiled
regular expression.</p></li>
<li><p><strong>captures</strong> – an optional variable number of arguments in which to
store the regions of the file matching the capture groups
in the regular expression.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the region of the channel that matched</p>
</dd>
</dl>
</dd></dl>

<dl class="chpl itermethod">
<dt id="FormattedIO.channel.matches">
<em class="property">iter </em><code class="sig-prename descclassname">channel.</code><code class="sig-name descname">matches</code><span class="sig-paren">(</span><em class="sig-param">re: regexp(?)</em>, <em class="sig-param">param captures = 0</em>, <em class="sig-param">maxmatches: int = max(int)</em><span class="sig-paren">)</span><a class="headerlink" href="#FormattedIO.channel.matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerates matches in the string as well as capture groups.</p>
<p>Yields tuples of <a class="reference internal" href="../Regexp.html#Regexp.reMatch" title="Regexp.reMatch"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.reMatch</span></code></a> objects, the 1st is always
the match for the whole pattern.</p>
<p>At the time each match is returned, the channel position is
at the start of that match. Note though that you would have
to use <a class="reference internal" href="../IO.html#IO.channel.advance" title="IO.channel.advance"><code class="xref chpl chpl-proc docutils literal notranslate"><span class="pre">IO.channel.advance</span></code></a> to get to the position of a capture group.</p>
<p>After returning each match, advances to just after that
match and looks for another match. Thus, it will not return
overlapping matches.</p>
<p>In the end, leaves the channel position at the end of the
last reported match (if we ran out of maxmatches)
or at the end of the channel (if we no longer matched)</p>
<p>Holds the channel lock for the duration of the search.</p>
<dl class="field-list simple">
<dt class="field-odd">Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>re</strong> – a <a class="reference internal" href="../Regexp.html#Regexp.regexp" title="Regexp.regexp"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.regexp</span></code></a> record representing a compiled
regular expression.</p></li>
<li><p><strong>captures</strong> – an optional compile-time constant representing the number
of captures to be yielded in tuple elements.</p></li>
<li><p><strong>maxmatches</strong> – the maximum number of matches to report.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>tuples of <a class="reference internal" href="../Regexp.html#Regexp.reMatch" title="Regexp.reMatch"><code class="xref chpl chpl-record docutils literal notranslate"><span class="pre">Regexp.reMatch</span></code></a> objects, where the first element
is the whole pattern.  The tuples will have 1+captures elements.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Path.html" class="btn btn-neutral float-right" title="Path" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../IO.html" class="btn btn-neutral float-left" title="IO" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>