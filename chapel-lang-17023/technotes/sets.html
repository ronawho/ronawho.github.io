

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Associative Set Operations &mdash; Chapel Documentation 1.24</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Avoiding Array Element Initialization with noinit" href="noinit.html" />
    <link rel="prev" title="Technical Notes" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.24
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.24";
$pagename = "technotes/sets";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Technical Notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#base-language-features">Base Language Features</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Associative Set Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#associative-domain-set-operations">Associative Domain Set Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#associative-array-set-operations">Associative Array Set Operations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="noinit.html">Avoiding Array Element Initialization with noinit</a></li>
<li class="toctree-l3"><a class="reference internal" href="errorHandling.html">Error Handling Modes and Prototype Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="firstClassFns.html">First-class Functions in Chapel</a></li>
<li class="toctree-l3"><a class="reference internal" href="module_include.html">Including Sub-Modules from Separate Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="main.html">main() Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="module_search.html">Module Search Paths</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#initializers-and-generic-programming">Initializers and Generic Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#parallel-language-features">Parallel Language Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#compiler-features">Compiler Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tool-details">Tool Details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Technical Notes</a> &raquo;</li>
        
      <li>Associative Set Operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/technotes/sets.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="associative-set-operations">
<span id="readme-sets"></span><h1><a class="toc-backref" href="#id1">Associative Set Operations</a><a class="headerlink" href="#associative-set-operations" title="Permalink to this headline">¶</a></h1>
<p>This README describes some initial support for set operations on associative
arrays and domains. It is expected that the features described here will be
included in a future version of the language specification.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#associative-set-operations" id="id1">Associative Set Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#associative-domain-set-operations" id="id2">Associative Domain Set Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#issubset" id="id3">isSubset</a></p></li>
<li><p><a class="reference internal" href="#issuper" id="id4">isSuper</a></p></li>
<li><p><a class="reference internal" href="#union" id="id5">Union</a></p></li>
<li><p><a class="reference internal" href="#difference" id="id6">Difference</a></p></li>
<li><p><a class="reference internal" href="#intersection" id="id7">Intersection</a></p></li>
<li><p><a class="reference internal" href="#symmetric-difference" id="id8">Symmetric Difference</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#associative-array-set-operations" id="id9">Associative Array Set Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#value-precedence-for-the-union-operator" id="id10">Value Precedence for the Union Operator</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="associative-domain-set-operations">
<h2><a class="toc-backref" href="#id2">Associative Domain Set Operations</a><a class="headerlink" href="#associative-domain-set-operations" title="Permalink to this headline">¶</a></h2>
<p>The following set functions/operations are supported by associative domains.
In the following code examples, <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> are associative domains.
For every operator, an op= variant exists. For these op= functions, LHS op= RHS,
the LHS argument is modified in-place using the same rules as the normal
operator function.</p>
<div class="section" id="issubset">
<h3><a class="toc-backref" href="#id3">isSubset</a><a class="headerlink" href="#issubset" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">isSubset</span><span class="p">(</span><span class="nx">super</span> <span class="p">:</span> <span class="k">domain</span><span class="p">)</span> <span class="p">:</span> <span class="kt">bool</span><span class="p">;</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">isSubset</span><span class="p">(</span><span class="nx">B</span><span class="p">);</span>
</pre></div>
</div>
<p>This statement will return true if <code class="docutils literal notranslate"><span class="pre">A</span></code> is a subset of <code class="docutils literal notranslate"><span class="pre">B</span></code>. <code class="docutils literal notranslate"><span class="pre">A</span></code> is a subset of
<code class="docutils literal notranslate"><span class="pre">B</span></code> if every index in <code class="docutils literal notranslate"><span class="pre">A</span></code> is also present in <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
</div>
<div class="section" id="issuper">
<h3><a class="toc-backref" href="#id4">isSuper</a><a class="headerlink" href="#issuper" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">isSuper</span><span class="p">(</span><span class="nx">sub</span> <span class="p">:</span> <span class="k">domain</span><span class="p">)</span> <span class="p">:</span> <span class="kt">bool</span><span class="p">;</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">isSuper</span><span class="p">(</span><span class="nx">B</span><span class="p">);</span>
</pre></div>
</div>
<p>This statement will return true if <code class="docutils literal notranslate"><span class="pre">B</span></code> is a subset of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
</div>
<div class="section" id="union">
<h3><a class="toc-backref" href="#id5">Union</a><a class="headerlink" href="#union" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">C</span> <span class="o">=</span> <span class="nx">A</span> <span class="o">+</span> <span class="nx">B</span><span class="p">;</span>
<span class="nx">C</span> <span class="o">=</span> <span class="nx">A</span> <span class="o">|</span> <span class="nx">B</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">C</span></code> will be a new associative domain which contains every index in <code class="docutils literal notranslate"><span class="pre">A</span></code> and
every index in <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>The op= variants are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">|=</span> <span class="n">B</span><span class="p">;</span>
<span class="n">A</span> <span class="o">+=</span> <span class="n">B</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="difference">
<h3><a class="toc-backref" href="#id6">Difference</a><a class="headerlink" href="#difference" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">C</span> <span class="o">=</span> <span class="nx">A</span> <span class="o">-</span> <span class="nx">B</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">C</span></code> will contain the indices in <code class="docutils literal notranslate"><span class="pre">A</span></code> that are not also in <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>The op= variant is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">-=</span> <span class="n">B</span><span class="p">;</span>
</pre></div>
</div>
<p>Any indices in both <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> will be removed from <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
</div>
<div class="section" id="intersection">
<h3><a class="toc-backref" href="#id7">Intersection</a><a class="headerlink" href="#intersection" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">C</span> <span class="o">=</span> <span class="nx">A</span> <span class="o">&amp;</span> <span class="nx">B</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">C</span></code> will contain the indices in <code class="docutils literal notranslate"><span class="pre">A</span></code> that are also in <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>The op= variant is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">&amp;=</span> <span class="n">B</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="symmetric-difference">
<h3><a class="toc-backref" href="#id8">Symmetric Difference</a><a class="headerlink" href="#symmetric-difference" title="Permalink to this headline">¶</a></h3>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">C</span> <span class="o">=</span> <span class="nx">A</span> <span class="o">^</span> <span class="nx">B</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">C</span></code> will contain the indices that are unique to <code class="docutils literal notranslate"><span class="pre">A</span></code> and unique to <code class="docutils literal notranslate"><span class="pre">B</span></code>. Another
way of writing this statement is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="o">=</span> <span class="p">(</span><span class="n">A</span> <span class="o">+</span> <span class="n">B</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">A</span> <span class="o">&amp;</span> <span class="n">B</span><span class="p">)</span>
</pre></div>
</div>
<p>The op= variant is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">^=</span> <span class="n">B</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="associative-array-set-operations">
<h2><a class="toc-backref" href="#id9">Associative Array Set Operations</a><a class="headerlink" href="#associative-array-set-operations" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Set operations on associative arrays have been deprecated for the 1.20
release and will be removed in future releases. The <code class="docutils literal notranslate"><span class="pre">map</span></code> type from
the <a class="reference internal" href="../modules/standard/Map.html#module-Map" title="Map: This module contains the implementation of the map type which is a container"><code class="xref chpl chpl-mod docutils literal notranslate"><span class="pre">Map</span></code></a> module has been added to the standard library, and is
intended to provide suitable replacements for these deprecated operations.</p>
</div>
<p>The Union, Difference, Intersection, and Symmetric Difference operators
(and their op= variants) are available for associative arrays that don’t share
their domains. This restriction exists because it may be surprising to appear
to be modifying one array, and in turn modify another due to a shared domain.</p>
<p>When performing a set operation between two associative arrays, the resulting
array’s domain is the result of the rules described in the previous section.
Unless otherwise stated, the values from the LHS of the operation are used as
the new array’s values.</p>
<div class="section" id="value-precedence-for-the-union-operator">
<h3><a class="toc-backref" href="#id10">Value Precedence for the Union Operator</a><a class="headerlink" href="#value-precedence-for-the-union-operator" title="Permalink to this headline">¶</a></h3>
<p>In the following code snippet, let <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> be associative arrays whose
domains contain some of the same indices:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span> <span class="o">=</span> <span class="n">A</span> <span class="o">+</span> <span class="n">B</span><span class="p">;</span>
</pre></div>
</div>
<p>In the resulting array <code class="docutils literal notranslate"><span class="pre">C</span></code>, the values from <code class="docutils literal notranslate"><span class="pre">B</span></code> will take precedence when
indices overlap.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="noinit.html" class="btn btn-neutral float-right" title="Avoiding Array Element Initialization with noinit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Technical Notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>