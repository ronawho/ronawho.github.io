

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tuples &mdash; Chapel Documentation 1.24</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Variadic Arguments" href="varargs.html" />
    <link rel="prev" title="Generic Classes and Records" href="genericClasses.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.24
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.24";
$pagename = "primers/tuples";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Primers</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#language-basics">Language Basics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="procedures.html">Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="specialMethods.html">Special Methods on Classes and Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="genericClasses.html">Generic Classes and Records</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Tuples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getting-started-with-tuples">Getting Started with Tuples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuple-types">Tuple Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuple-iteration">Tuple Iteration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tuple-unpacking">Tuple Unpacking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#one-element-tuples">One-Element Tuples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="varargs.html">Variadic Arguments (var args)</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="nothingVariables.html">Nothing Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="errorHandling.html">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#iterators">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#task-parallelism">Task Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#locality">Locality</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-parallelism">Data Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#library-utilities">Library Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#numerical-libraries">Numerical Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#language-overview">Language Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Primers</a> &raquo;</li>
        
      <li>Tuples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/primers/tuples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tuples">
<span id="primers-tuples"></span><h1>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/chapel-lang/chapel/blob/master/test/release/examples/primers/tuples.chpl">View tuples.chpl on GitHub</a></p>
<p>This primer demonstrates tuples.</p>
<p>Tuples are a way of grouping several values together. The number of
components in each tuple must be known at compile-time. However,
unlike an array, a tuple can store components of different types.</p>
<p>Tuples are a language-supported type. Tuples automatically get
assignment and comparison operators.</p>
<p>Tuple indices always start at 0.</p>
<div class="section" id="getting-started-with-tuples">
<h2>Getting Started with Tuples<a class="headerlink" href="#getting-started-with-tuples" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to create a tuple is with a tuple literal.
Tuple literals syntax looks like this:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Now <code class="docutils literal notranslate"><span class="pre">myTuple</span></code> stores a tuple with two elements:
<code class="docutils literal notranslate"><span class="pre">myTuple(0)</span> <span class="pre">==</span> <span class="pre">1</span></code> and
<code class="docutils literal notranslate"><span class="pre">myTuple(1)</span> <span class="pre">==</span> <span class="pre">2</span></code></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">assert</span><span class="p">(</span><span class="nx">myTuple</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">(</span><span class="nx">myTuple</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s">&quot;two&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>As we saw above, to access an individual tuple element,
use <code class="docutils literal notranslate"><span class="pre">someTuple(i)</span></code> or <code class="docutils literal notranslate"><span class="pre">someTuple[i]</span></code>. The first tuple
component is at index <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>We can assign to a component in our tuple variable</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">myTuple</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="s">&quot;four&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>We can print out the tuple. The output format mirrors
the Chapel syntax.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="nx">myTuple</span><span class="p">);</span> <span class="c1">// output: (1, four)</span>
</pre></div>
</div>
<p>Sometimes it’s useful in generic code to query the size of a tuple.
The <code class="docutils literal notranslate"><span class="pre">.size</span></code> method returns the size of a tuple.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">writeln</span><span class="p">(</span><span class="nx">myTuple</span><span class="p">.</span><span class="nx">size</span><span class="p">);</span> <span class="c1">// output: 2</span>
</pre></div>
</div>
</div>
<div class="section" id="tuple-types">
<h2>Tuple Types<a class="headerlink" href="#tuple-types" title="Permalink to this headline">¶</a></h2>
<p>The syntax for tuple types mirrors the tuple literal syntax.</p>
<p>The following line declares a tuple variable storing an int and a string</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">otherTuple</span><span class="p">:</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">);</span>
</pre></div>
</div>
<p>We can assign to that tuple from a variable with the same type:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">otherTuple</span> <span class="o">=</span> <span class="nx">myTuple</span><span class="p">;</span>
</pre></div>
</div>
<p>The following line declares a tuple variable holding 3 real values:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">threeReals</span><span class="p">:</span> <span class="mi">3</span><span class="o">*</span><span class="kt">real</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">threeReals</span><span class="p">);</span> <span class="c1">// output: (0.0, 0.0, 0.0)</span>
</pre></div>
</div>
<p>Tuples that have only one component type support
some arithmetic on the components:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">threeReals</span> <span class="o">+=</span> <span class="mf">1.0</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">threeReals</span><span class="p">);</span> <span class="c1">// output: (1.0, 1.0, 1.0)</span>
</pre></div>
</div>
<p>Tuples with only one component type are also called homogeneous
tuples whereas tuples with mixed types are called heterogeneous
tuples.</p>
</div>
<div class="section" id="tuple-iteration">
<h2>Tuple Iteration<a class="headerlink" href="#tuple-iteration" title="Permalink to this headline">¶</a></h2>
<p>Tuples can be iterated over using for loops:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="k">for</span> <span class="nx">r</span> <span class="kd">in</span> <span class="nx">threeReals</span> <span class="p">{</span>
  <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">sum</span><span class="p">);</span>
</pre></div>
</div>
<p>In addition, homogeneous tuples can be iterated over using forall
and coforall loops.</p>
<p>Heterogeneous tuples can also be traversed using for and coforall
loops.  Such loops are always unrolled by the compiler so that each
iteration has its own index variable of the appropriate type.  For
example, in the following loop, the index <code class="docutils literal notranslate"><span class="pre">t</span></code> of the first
iteration would be of type <code class="docutils literal notranslate"><span class="pre">int</span></code> while the index <code class="docutils literal notranslate"><span class="pre">t</span></code> of the
second iteration would be of type <code class="docutils literal notranslate"><span class="pre">string</span></code> since <code class="docutils literal notranslate"><span class="pre">myTuple</span></code> has
type <code class="docutils literal notranslate"><span class="pre">(int,</span> <span class="pre">string)</span></code>:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">t</span> <span class="kd">in</span> <span class="nx">myTuple</span> <span class="p">{</span>
  <span class="nx">writeln</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="tuple-unpacking">
<h2>Tuple Unpacking<a class="headerlink" href="#tuple-unpacking" title="Permalink to this headline">¶</a></h2>
<p>Tuple values can be unpacked into variables during
variable initialization:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="p">(</span><span class="nx">myInt</span><span class="p">,</span> <span class="nx">myString</span><span class="p">)</span> <span class="o">=</span> <span class="nx">otherTuple</span><span class="p">;</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">myInt</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="nx">myString</span><span class="p">);</span> <span class="c1">// output: 1 four</span>
</pre></div>
</div>
<p>Or assignment:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">:</span> <span class="kt">real</span><span class="p">;</span>
<span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="o">=</span> <span class="nx">threeReals</span><span class="p">;</span>
</pre></div>
</div>
<p>It’s also possible in <cite>for</cite> and <cite>forall</cite> loops:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ArrayOfTuples</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">real</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">r</span><span class="p">)</span> <span class="kd">in</span> <span class="nx">ArrayOfTuples</span> <span class="p">{</span>
  <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="nx">r</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">ArrayOfTuples</span><span class="p">);</span>
</pre></div>
</div>
<p>Or in function calls:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">magnitude</span><span class="p">(</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">,</span><span class="nx">z</span><span class="p">):</span><span class="mi">3</span><span class="o">*</span><span class="kt">real</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">sqrt</span><span class="p">(</span><span class="nx">x</span><span class="o">*</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="o">*</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">z</span><span class="o">*</span><span class="nx">z</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">threeReals</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="nx">magnitude</span><span class="p">(</span><span class="nx">threeReals</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">m</span><span class="p">);</span>
</pre></div>
</div>
<p>Additionally, tuples can be unpacked in the process
of making a function call. For example, suppose we
have a function accepting individual arguments:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">z</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If we want to pass threeReals to it, we could write</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">add</span><span class="p">(</span><span class="nx">threeReals</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nx">threeReals</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">threeReals</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
</pre></div>
</div>
<p>but the tuple can be unpacked at the call site like this:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="nx">add</span><span class="p">(</span> <span class="p">(</span><span class="o">..</span><span class="p">.</span><span class="nx">threeReals</span><span class="p">)</span> <span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">total</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="one-element-tuples">
<h2>One-Element Tuples<a class="headerlink" href="#one-element-tuples" title="Permalink to this headline">¶</a></h2>
<p>Sometimes one needs to create a tuple storing just one element.
To do that, just use the following syntax:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">oneTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="nx">oneTuple</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="varargs.html" class="btn btn-neutral float-right" title="Variadic Arguments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="genericClasses.html" class="btn btn-neutral float-left" title="Generic Classes and Records" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>