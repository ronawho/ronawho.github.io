

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Arrays &mdash; Chapel Documentation 1.24</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Iterators" href="iterators.html" />
    <link rel="prev" title="Domains" href="domains.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.24
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.24";
$pagename = "language/spec/arrays";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Language Specification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scope.html">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="organization.html">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l2"><a class="reference internal" href="language-overview.html">Language Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="lexical-structure.html">Lexical Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversions.html">Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html">Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="procedures.html">Procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="methods.html">Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="error-handling.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="tuples.html">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="unions.html">Unions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ranges.html">Ranges</a></li>
<li class="toctree-l2"><a class="reference internal" href="domains.html">Domains</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Arrays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#array-types">Array Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-values">Array Values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rectangular-array-literals">Rectangular Array Literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#associative-array-literals">Associative Array Literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="#runtime-representation-of-array-values">Runtime Representation of Array Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#array-indexing">Array Indexing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rectangular-array-indexing">Rectangular Array Indexing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#associative-array-indexing">Associative Array Indexing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#iteration-over-arrays">Iteration over Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-assignment">Array Assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-slicing">Array Slicing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rectangular-array-slicing">Rectangular Array Slicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rectangular-array-slicing-with-a-rank-change">Rectangular Array Slicing with a Rank Change</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#count-operator">Count Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#array-arguments-to-functions">Array Arguments to Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#array-promotion-of-scalar-functions">Array Promotion of Scalar Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#returning-arrays-from-functions">Returning Arrays from Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sparse-arrays">Sparse Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="#association-of-arrays-to-domains">Association of Arrays to Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="#predefined-functions-and-methods-on-arrays">Predefined Functions and Methods on Arrays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="iterators.html">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="generics.html">Generics</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-and-output.html">Input and Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="task-parallelism-and-synchronization.html">Task Parallelism and Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-parallelism.html">Data Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="locales.html">Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="domain-maps.html">Domain Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-defined-reductions-and-scans.html">User-Defined Reductions and Scans</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory-consistency-model.html">Memory Consistency Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="interoperability.html">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="syntax.html">Syntax</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mason-packages.html">Mason Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Chapel Language Specification</a> &raquo;</li>
        
      <li>Arrays</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/language/spec/arrays.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arrays">
<span id="chapter-arrays"></span><h1>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h1>
<p>An <em>array</em> is a map from a domain’s indices to a collection of variables
of homogeneous type. Since Chapel domains support a rich variety of
index sets, Chapel arrays are also richer than the traditional linear or
rectilinear array types in conventional languages. Like domains, arrays
may be distributed across multiple locales without explicitly
partitioning them using Chapel’s Domain
Maps (<a class="reference internal" href="domain-maps.html#chapter-domain-maps"><span class="std std-ref">Domain Maps</span></a>).</p>
<div class="section" id="array-types">
<span id="id1"></span><h2>Array Types<a class="headerlink" href="#array-types" title="Permalink to this headline">¶</a></h2>
<p>An array type is specified by the identity of the domain that it is
declared over and the element type of the array. Array types are given
by the following syntax:</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>array-type:
  [ domain-expression ] type-expression
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">domain-expression</span></code> must specify a domain that the array can be
declared over. If the <code class="docutils literal notranslate"><span class="pre">domain-expression</span></code> is a domain literal, the
curly braces around the literal may be omitted.</p>
<blockquote>
<div><p><em>Example (decls.chpl)</em>.</p>
<p>In the code</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">D</span><span class="p">:</span> <span class="k">domain</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="nx">D</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">A</span></code> is declared to be an arithmetic array over rectangular domain
<code class="docutils literal notranslate"><span class="pre">D</span></code> with elements of type <code class="docutils literal notranslate"><span class="pre">real</span></code>. As a result, it represents a
2-dimensional <span class="math notranslate nohighlight">\(10 \times 10\)</span> real floating point variables
indexed using the indices
<span class="math notranslate nohighlight">\((1, 1), (1, 2), \ldots, (1, 10), (2, 1), \ldots, (10, 10)\)</span>.</p>
</div></blockquote>
<p>An array’s element type can be referred to using the member symbol
<code class="docutils literal notranslate"><span class="pre">eltType</span></code>.</p>
<blockquote>
<div><p><em>Example (eltType.chpl)</em>.</p>
<p>In the following example, <code class="docutils literal notranslate"><span class="pre">x</span></code> is declared to be of type <code class="docutils literal notranslate"><span class="pre">real</span></code>
since that is the element type of array <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="nx">D</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">A</span><span class="p">.</span><span class="nx">eltType</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="array-values">
<span id="id2"></span><h2>Array Values<a class="headerlink" href="#array-values" title="Permalink to this headline">¶</a></h2>
<p>An array’s value is the collection of its elements’ values. Assignments
between array variables are performed by value as described
in <a class="reference internal" href="#array-assignment"><span class="std std-ref">Array Assignment</span></a>. Chapel semantics are defined so that
the compiler will never need to insert temporary arrays of the same size
as a user array variable.</p>
<p>Array literal values can be either rectangular or associative,
corresponding to the underlying domain which defines its indices.</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>array-literal:
  rectangular-array-literal
  associative-array-literal
</pre></div>
</div>
<div class="section" id="rectangular-array-literals">
<span id="id3"></span><h3>Rectangular Array Literals<a class="headerlink" href="#rectangular-array-literals" title="Permalink to this headline">¶</a></h3>
<p>Rectangular array literals are specified by enclosing a comma-separated
list of expressions representing values in square brackets. A 0-based
domain will automatically be generated for the given array literal. The
type of the array’s values will be the type of the first element listed.
A trailing comma is allowed.</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>rectangular-array-literal:
  [ expression-list ]
  [ expression-list , ]
</pre></div>
</div>
<blockquote>
<div><p><em>Example (adecl-literal.chpl)</em>.</p>
<p>The following example declares a 5 element rectangular array literal
containing strings, then subsequently prints each string element to
the console.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span> <span class="s">&quot;2&quot;</span><span class="p">,</span> <span class="s">&quot;3&quot;</span><span class="p">,</span> <span class="s">&quot;4&quot;</span><span class="p">,</span> <span class="s">&quot;5&quot;</span><span class="p">];</span>

<span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">0</span><span class="o">..</span><span class="mi">4</span> <span class="k">do</span>
  <span class="nx">writeln</span><span class="p">(</span><span class="nx">A</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Future:</em></p>
<p>Provide syntax which allows users to specify the domain for a
rectangular array literal.</p>
</div>
</div></blockquote>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p><em>Future:</em></p>
<p>Determine the type of a rectangular array literal based on the most
promoted type, rather than the first element’s type.</p>
</div>
<p><em>Example (decl-with-anon-domain.chpl)</em>.</p>
<p>The following example declares a 2-element array <code class="docutils literal notranslate"><span class="pre">A</span></code> containing
3-element arrays of real numbers. <code class="docutils literal notranslate"><span class="pre">A</span></code> is initialized using array
literals.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">]</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span> <span class="kt">real</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">]];</span>
</pre></div>
</div>
</div></blockquote>
<blockquote>
<div><p><em>Open issue</em>.</p>
<p>We would like to differentiate syntactically between array literals
for an array of arrays and a multi-dimensional array.</p>
</div></blockquote>
<p>An rectangular array’s default value is for each array element to be
initialized to the default value of the element type.</p>
</div>
<div class="section" id="associative-array-literals">
<span id="id4"></span><h3>Associative Array Literals<a class="headerlink" href="#associative-array-literals" title="Permalink to this headline">¶</a></h3>
<p>Associative array values are specified by enclosing a comma separated
list of index-to-value bindings within square brackets. It is expected
that the indices in the listing match in type and, likewise, the types
of values in the listing also match. A trailing comma is allowed.</p>
<div class="highlight-syntax notranslate"><div class="highlight"><pre><span></span>associative-array-literal:
  [ associative-expr-list ]
  [ associative-expr-list , ]

associative-expr-list:
  index-expr =&gt; value-expr
  index-expr =&gt; value-expr, associative-expr-list

index-expr:
  expression

value-expr:
  expression
</pre></div>
</div>
<blockquote>
<div><p><em>Open issue</em>.</p>
<p>Currently it is not possible to use other associative domains as
values within an associative array literal.</p>
<p><em>Example (adecl-assocLiteral.chpl)</em>.</p>
<p>The following example declares a 5 element associative array literal
which maps integers to their corresponding string representation. The
indices and their corresponding values are then printed.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">=&gt;</span> <span class="s">&quot;one&quot;</span><span class="p">,</span> <span class="mi">10</span> <span class="o">=&gt;</span> <span class="s">&quot;ten&quot;</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s">&quot;three&quot;</span><span class="p">,</span> <span class="mi">16</span> <span class="o">=&gt;</span> <span class="s">&quot;sixteen&quot;</span><span class="p">];</span>

<span class="k">for</span> <span class="nx">da</span> <span class="kd">in</span> <span class="k">zip</span> <span class="p">(</span><span class="nx">A</span><span class="p">.</span><span class="k">domain</span><span class="p">,</span> <span class="nx">A</span><span class="p">)</span> <span class="k">do</span>
  <span class="nx">writeln</span><span class="p">(</span><span class="nx">da</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="runtime-representation-of-array-values">
<span id="array-runtime-representation"></span><h3>Runtime Representation of Array Values<a class="headerlink" href="#runtime-representation-of-array-values" title="Permalink to this headline">¶</a></h3>
<p>The runtime representation of an array in memory is controlled by its
domain’s domain map. Through this mechanism, users can reason about and
control the runtime representation of an array’s elements. See
 <a class="reference internal" href="domain-maps.html#chapter-domain-maps"><span class="std std-ref">Domain Maps</span></a> for more details.</p>
</div>
</div>
<div class="section" id="array-indexing">
<span id="id5"></span><h2>Array Indexing<a class="headerlink" href="#array-indexing" title="Permalink to this headline">¶</a></h2>
<p>Arrays can be indexed using index values from the domain over which they
are declared. Array indexing is expressed using either parentheses or
square brackets. This results in a reference to the element that
corresponds to the index value.</p>
<blockquote>
<div><p><em>Example (array-indexing.chpl)</em>.</p>
<p>Given:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
</pre></div>
</div>
<p>the first two elements of A can be assigned the value 1.2 and 3.4
respectively using the assignment:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.2</span><span class="p">;</span>
<span class="nx">A</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.4</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>Except for associative arrays, if an array is indexed using an index
that is not part of its domain’s index set, the reference is considered
out-of-bounds and a runtime error will occur, halting the program.</p>
<div class="section" id="rectangular-array-indexing">
<span id="id6"></span><h3>Rectangular Array Indexing<a class="headerlink" href="#rectangular-array-indexing" title="Permalink to this headline">¶</a></h3>
<p>Since the indices for multidimensional rectangular domains are tuples,
for convenience, rectangular arrays can be indexed using the list of
integer values that make up the tuple index. This is semantically
equivalent to creating a tuple value out of the integer values and using
that tuple value to index the array. For symmetry, 1-dimensional
rectangular arrays can be accessed using 1-tuple indices even though
their index type is an integral value. This is semantically equivalent
to de-tupling the integral value from the 1-tuple and using it to index
the array.</p>
<blockquote>
<div><p><em>Example (array-indexing-2.chpl)</em>.</p>
<p>Given:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ij</span><span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="kt">int</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>the elements of array A can be indexed using any of the following
idioms:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span><span class="p">(</span><span class="nx">ij</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">;</span>
<span class="nx">A</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">=</span> <span class="mf">1.2</span><span class="p">;</span>
<span class="nx">A</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.3</span><span class="p">;</span>
<span class="nx">A</span><span class="p">[</span><span class="nx">ij</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.1</span><span class="p">;</span>
<span class="nx">A</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]</span> <span class="o">=</span> <span class="mf">1.4</span><span class="p">;</span>
<span class="nx">A</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<blockquote>
<div><p><em>Example (index-using-var-arg-tuple.chpl)</em>.</p>
<p>The code</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">f</span><span class="p">(</span><span class="nx">A</span><span class="p">:</span> <span class="p">[],</span> <span class="nx">is</span><span class="o">..</span><span class="p">.)</span>
  <span class="k">return</span> <span class="nx">A</span><span class="p">(</span><span class="nx">is</span><span class="p">);</span>
</pre></div>
</div>
<p>defines a function that takes an array as the first argument and a
variable-length argument list. It then indexes into the array using
the tuple that captures the actual arguments. This function works
even for one-dimensional arrays because one-dimensional arrays can be
indexed into by 1-tuples.</p>
</div></blockquote>
</div>
<div class="section" id="associative-array-indexing">
<span id="id7"></span><h3>Associative Array Indexing<a class="headerlink" href="#associative-array-indexing" title="Permalink to this headline">¶</a></h3>
<p>Indices can be added to associative arrays through the array’s domain.</p>
<blockquote>
<div><p><em>Example (assoc-add-index.chpl)</em>.</p>
<p>Given:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">D</span> <span class="p">:</span> <span class="k">domain</span><span class="p">(</span><span class="kt">string</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">A</span> <span class="p">:</span> <span class="p">[</span><span class="nx">D</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>
</pre></div>
</div>
<p>the array A initially contains no elements. We can change that by
adding indices to the domain D:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">D</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">);</span>
<span class="nx">D</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The array A can now be indexed with indices “a” and “b”:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">A</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">A</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">];</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="iteration-over-arrays">
<span id="id8"></span><h2>Iteration over Arrays<a class="headerlink" href="#iteration-over-arrays" title="Permalink to this headline">¶</a></h2>
<p>All arrays support iteration via standard <code class="docutils literal notranslate"><span class="pre">for</span></code>, <code class="docutils literal notranslate"><span class="pre">forall</span></code> and
<code class="docutils literal notranslate"><span class="pre">coforall</span></code> loops. These loops iterate over all of the array elements
as described by its domain. A loop of the form:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="k">for</span><span class="o">|</span><span class="k">forall</span><span class="o">|</span><span class="k">coforall</span><span class="p">]</span> <span class="nx">a</span> <span class="kd">in</span> <span class="nx">A</span> <span class="k">do</span>
  <span class="o">..</span><span class="p">.</span><span class="nx">a</span><span class="o">..</span><span class="p">.</span>
</pre></div>
</div>
<p>is semantically equivalent to:</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="k">for</span><span class="o">|</span><span class="k">forall</span><span class="o">|</span><span class="k">coforall</span><span class="p">]</span> <span class="nx">i</span> <span class="kd">in</span> <span class="nx">A</span><span class="p">.</span><span class="k">domain</span> <span class="k">do</span>
  <span class="o">..</span><span class="p">.</span><span class="nx">A</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">..</span><span class="p">.</span>
</pre></div>
</div>
<p>The iterator variable for an array iteration is a reference to the array
element type.</p>
</div>
<div class="section" id="array-assignment">
<span id="id9"></span><h2>Array Assignment<a class="headerlink" href="#array-assignment" title="Permalink to this headline">¶</a></h2>
<p>Array assignment is by value. Arrays can be assigned arrays, ranges,
domains, iterators, or tuples as long as the two expressions are
compatible in terms of number of dimensions and shape.</p>
<blockquote>
<div><p><em>Example (assign.chpl)</em>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">A</span></code> is an array variable and <code class="docutils literal notranslate"><span class="pre">B</span></code> is an expression of array,
range, domain, or tuple type, or an iterator, then the assignment</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span> <span class="o">=</span> <span class="nx">B</span><span class="p">;</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">A</span><span class="p">,</span><span class="nx">B</span><span class="p">)]</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
</pre></div>
</div>
<p>If the zipper iteration is illegal, then the assignment is illegal.
This means, for example, that a range cannot be assigned to a
multidimensional rectangular array because the two expressions don’t
match in shape and can’t be zipped together. Notice that the
assignment is implemented using parallelism when possible, and
serially otherwise.</p>
</div></blockquote>
<p>Arrays can be assigned tuples of values of their element type if the
tuple contains the same number of elements as the array. For
multidimensional arrays, the tuple must be a nested tuple such that the
nesting depth is equal to the rank of the array and the shape of this
nested tuple must match the shape of the array. The values are assigned
element-wise.</p>
<p>Arrays can also be assigned single values of their element type. In this
case, each element in the array is assigned this value.</p>
<blockquote>
<div><p><em>Example (assign-2.chpl)</em>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">e</span></code> is an expression of the element type of the array or a type
that can be implicitly converted to the element type of the array,
then the assignment</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">forall</span> <span class="nx">a</span> <span class="kd">in</span> <span class="nx">A</span> <span class="k">do</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="array-slicing">
<span id="id10"></span><h2>Array Slicing<a class="headerlink" href="#array-slicing" title="Permalink to this headline">¶</a></h2>
<p>An array can be sliced using a domain that has the same type as the
domain over which it was declared. The result of an array slice is an
alias to the subset of the array elements from the original array
corresponding to the slicing domain’s index set.</p>
<blockquote>
<div><p><em>Example (slicing.chpl)</em>.</p>
<p>Given the definitions</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">OuterD</span><span class="p">:</span> <span class="k">domain</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="o">..</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="o">..</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">InnerD</span><span class="p">:</span> <span class="k">domain</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">B</span><span class="p">:</span> <span class="p">[</span><span class="nx">OuterD</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
</pre></div>
</div>
<p>the assignment given by</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span><span class="p">[</span><span class="nx">InnerD</span><span class="p">]</span> <span class="o">=</span> <span class="nx">B</span><span class="p">[</span><span class="nx">InnerD</span><span class="p">];</span>
</pre></div>
</div>
<p>assigns the elements in the interior of <code class="docutils literal notranslate"><span class="pre">B</span></code> to the elements in the
interior of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
</div></blockquote>
<div class="section" id="rectangular-array-slicing">
<span id="id11"></span><h3>Rectangular Array Slicing<a class="headerlink" href="#rectangular-array-slicing" title="Permalink to this headline">¶</a></h3>
<p>A rectangular array can be sliced by any rectangular domain that is a
subdomain of the array’s defining domain. If the subdomain relationship
is not met, an out-of-bounds error will occur. The result is a subarray
whose indices are those of the slicing domain and whose elements are an
alias of the original array’s.</p>
<p>Rectangular arrays also support slicing by ranges directly. If each
dimension is indexed by a range, this is equivalent to slicing the array
by the rectangular domain defined by those ranges. These range-based
slices may also be expressed using partially unbounded or completely
unbounded ranges. This is equivalent to slicing the array’s defining
domain by the specified ranges to create a subdomain as described
in <a class="reference internal" href="#array-slicing"><span class="std std-ref">Array Slicing</span></a> and then using that subdomain to slice
the array.</p>
</div>
<div class="section" id="rectangular-array-slicing-with-a-rank-change">
<span id="rectangular-array-slicing-with-rank-change"></span><h3>Rectangular Array Slicing with a Rank Change<a class="headerlink" href="#rectangular-array-slicing-with-a-rank-change" title="Permalink to this headline">¶</a></h3>
<p>For multidimensional rectangular arrays, slicing with a rank change is
supported by substituting integral values within a dimension’s range for
an actual range. The resulting array will have a rank less than the
rectangular array’s rank and equal to the number of ranges that are
passed in to take the slice.</p>
<blockquote>
<div><p><em>Example (array-decl.chpl)</em>.</p>
<p>Given an array</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">A</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">,</span> <span class="mi">1</span><span class="o">..</span><span class="nx">n</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>
</pre></div>
</div>
<p>the slice <code class="docutils literal notranslate"><span class="pre">A[1..n,</span> <span class="pre">1]</span></code> is a one-dimensional array whose elements
are the first column of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="count-operator">
<span id="count-operator-arrays"></span><h2>Count Operator<a class="headerlink" href="#count-operator" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">#</span></code> operator can be applied to dense rectangular arrays with a
tuple argument whose size matches the rank of the array (or optionally
an integer in the case of a 1D array). The operator is equivalent to
applying the <code class="docutils literal notranslate"><span class="pre">#</span></code> operator to the array’s domain and using the result
to slice the array as described in Section <a class="reference internal" href="#rectangular-array-slicing"><span class="std std-ref">Rectangular Array Slicing</span></a>.</p>
</div>
<div class="section" id="array-arguments-to-functions">
<span id="id12"></span><h2>Array Arguments to Functions<a class="headerlink" href="#array-arguments-to-functions" title="Permalink to this headline">¶</a></h2>
<p>By default, arrays are passed to function by <code class="docutils literal notranslate"><span class="pre">ref</span></code> or <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">ref</span></code>
depending on whether or not the formal argument is modified. The <code class="docutils literal notranslate"><span class="pre">in</span></code>,
<code class="docutils literal notranslate"><span class="pre">inout</span></code>, and <code class="docutils literal notranslate"><span class="pre">out</span></code> intent can create copies of arrays.</p>
<p>When a formal argument has array type, the element type of the array can
be omitted and/or the domain of the array can be queried or omitted. In
such cases, the argument is generic and is discussed
in <a class="reference internal" href="generics.html#formal-arguments-of-generic-array-types"><span class="std std-ref">Formal Arguments of Generic Array Types</span></a>.</p>
<p>If a formal array argument specifies a domain as part of its type
signature, the domain of the actual argument must represent the same
index set. If the formal array’s domain was declared using an explicit
domain map, the actual array’s domain must use an equivalent domain map.</p>
<div class="section" id="array-promotion-of-scalar-functions">
<span id="id13"></span><h3>Array Promotion of Scalar Functions<a class="headerlink" href="#array-promotion-of-scalar-functions" title="Permalink to this headline">¶</a></h3>
<p>Arrays may be passed to a scalar function argument whose type matches
the array’s element type. This results in a promotion of the scalar
function as defined in <a class="reference internal" href="data-parallelism.html#promotion"><span class="std std-ref">Promotion</span></a>.</p>
<blockquote>
<div><p><em>Example (whole-array-ops.chpl)</em>.</p>
<p>Whole array operations is a special case of array promotion of scalar
functions. In the code</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">A</span> <span class="o">=</span> <span class="nx">B</span> <span class="o">+</span> <span class="nx">C</span><span class="p">;</span>
</pre></div>
</div>
<p>if <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> are arrays, this code assigns each element
in <code class="docutils literal notranslate"><span class="pre">A</span></code> the element-wise sum of the elements in <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="returning-arrays-from-functions">
<span id="id14"></span><h2>Returning Arrays from Functions<a class="headerlink" href="#returning-arrays-from-functions" title="Permalink to this headline">¶</a></h2>
<p>Arrays return by value by default. The <code class="docutils literal notranslate"><span class="pre">ref</span></code> and <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">ref</span></code> return
intents can be used to return a reference to an array.</p>
<p>Similarly to array arguments, the element type and/or domain of an array
return type can be omitted.</p>
</div>
<div class="section" id="sparse-arrays">
<span id="id15"></span><h2>Sparse Arrays<a class="headerlink" href="#sparse-arrays" title="Permalink to this headline">¶</a></h2>
<p>Sparse arrays in Chapel are those whose domain is sparse. A sparse array
differs from other array types in that it stores a single value
corresponding to multiple indices. This value is commonly referred to as
the <em>zero value</em>, but we refer to it as the <em>implicitly replicated
value</em> or <em>IRV</em> since it can take on any value of the array’s element
type in practice including non-zero numeric values, a class reference, a
record or tuple value, etc.</p>
<p>An array declared over a sparse domain can be indexed using any of the
indices in the sparse domain’s parent domain. If it is read using an
index that is not part of the sparse domain’s index set, the IRV value
is returned. Otherwise, the array element corresponding to the index is
returned.</p>
<p>Sparse arrays can only be written at locations corresponding to indices
in their domain’s index set. In general, writing to other locations
corresponding to the IRV value will result in a runtime error.</p>
<p>By default a sparse array’s IRV is defined as the default value for the
array’s element type. The IRV can be set to any value of the array’s
element type by assigning to a pseudo-field named <code class="docutils literal notranslate"><span class="pre">IRV</span></code> in the array.</p>
<blockquote>
<div><p><em>Example (sparse-error.chpl)</em>.</p>
<p>The following code example declares a sparse array, <code class="docutils literal notranslate"><span class="pre">SpsA</span></code> using
the sparse domain <code class="docutils literal notranslate"><span class="pre">SpsD</span></code> (For this example, assume that
<code class="docutils literal notranslate"><span class="pre">n</span></code><span class="math notranslate nohighlight">\(&gt;\)</span>1). Line 2 assigns two indices to <code class="docutils literal notranslate"><span class="pre">SpsD</span></code>’s
index set and then lines 3–4 store the values 1.1 and 9.9 to the
corresponding values of <code class="docutils literal notranslate"><span class="pre">SpsA</span></code>. The IRV of <code class="docutils literal notranslate"><span class="pre">SpsA</span></code> will initially
be 0.0 since its element type is <code class="docutils literal notranslate"><span class="pre">real</span></code>. However, the fifth line
sets the IRV to be the value 5.5, causing <code class="docutils literal notranslate"><span class="pre">SpsA</span></code> to represent the
value 1.1 in its low corner, 9.9 in its high corner, and 5.5
everywhere else. The final statement is an error since it attempts to
assign to <code class="docutils literal notranslate"><span class="pre">SpsA</span></code> at an index not described by its domain, <code class="docutils literal notranslate"><span class="pre">SpsD</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">SpsD</span><span class="p">:</span> <span class="k">sparse</span> <span class="k">subdomain</span><span class="p">(</span><span class="nx">D</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">SpsA</span><span class="p">:</span> <span class="p">[</span><span class="nx">SpsD</span><span class="p">]</span> <span class="kt">real</span><span class="p">;</span>
<span class="nx">SpsD</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="p">));</span>
<span class="nx">SpsA</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">=</span> <span class="mf">1.1</span><span class="p">;</span>
<span class="nx">SpsA</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="p">)</span> <span class="o">=</span> <span class="mf">9.9</span><span class="p">;</span>
<span class="nx">SpsA</span><span class="p">.</span><span class="nx">IRV</span> <span class="o">=</span> <span class="mf">5.5</span><span class="p">;</span>
<span class="nx">SpsA</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">;</span>  <span class="c1">// ERROR!</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="association-of-arrays-to-domains">
<span id="id16"></span><h2>Association of Arrays to Domains<a class="headerlink" href="#association-of-arrays-to-domains" title="Permalink to this headline">¶</a></h2>
<p>When an array is declared, it is linked during execution to the domain
identity over which it was declared. This linkage is invariant for the
array’s lifetime and cannot be changed.</p>
<p>When indices are added or removed from a domain, the change impacts the
arrays declared over this particular domain. In the case of adding an
index, an element is added to the array and initialized to the IRV for
sparse arrays, and to the default value for the element type for dense
arrays. In the case of removing an index, the element in the array is
removed.</p>
<p>When a domain is reassigned a new value, its arrays are also impacted.
Values that correspond to indices in the intersection of the old and new
domain are preserved in the arrays. Values that could only be indexed by
the old domain are lost. Values that can only be indexed by the new
domain have elements added to the new array, initialized to the IRV for
sparse arrays, and to the element type’s default value for other array
types.</p>
<p>For performance reasons, there is an expectation that a method will be
added to domains to allow non-preserving assignment, <em>i.e.</em>, all values
in the arrays associated with the assigned domain will be lost. Today
this can be achieved by assigning the array’s domain an empty index set
(causing all array elements to be deallocated) and then re-assigning the
new index set to the domain.</p>
<p>An array’s domain can only be modified directly, via the domain’s name
or an alias created by passing it to a function via default intent. In
particular, the domain may not be modified via the array’s <code class="docutils literal notranslate"><span class="pre">.domain</span></code>
method, nor by using the domain query syntax on a function’s formal
array
argument (<a class="reference internal" href="generics.html#formal-arguments-of-generic-array-types"><span class="std std-ref">Formal Arguments of Generic Array Types</span></a>).</p>
<blockquote>
<div><p><em>Rationale</em>.</p>
<p>When multiple arrays are declared using a single domain, modifying
the domain affects all of the arrays. Allowing an array’s domain to
be queried and then modified suggests that the change should only
affect that array. By requiring the domain to be modified directly,
the user is encouraged to think in terms of the domain distinctly
from a particular array.</p>
<p>In addition, this choice has the beneficial effect that arrays
declared via an anonymous domain have a constant domain. Constant
domains are considered a common case and have potential compilation
benefits such as eliminating bounds checks. Therefore making this
convenient syntax support a common, optimizable case seems prudent.</p>
</div></blockquote>
</div>
<div class="section" id="predefined-functions-and-methods-on-arrays">
<span id="id17"></span><h2>Predefined Functions and Methods on Arrays<a class="headerlink" href="#predefined-functions-and-methods-on-arrays" title="Permalink to this headline">¶</a></h2>
<p>There is an expectation that this list of predefined methods will grow.</p>
<dl class="chpl function">
<dt id="Array.eltType">
<em class="property">proc </em><code class="sig-prename descclassname">Array.</code><code class="sig-name descname">eltType</code> type<a class="headerlink" href="#Array.eltType" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the element type of the array.</p>
</dd></dl>

<dl class="chpl function">
<dt id="Array.rank">
<em class="property">proc </em><code class="sig-prename descclassname">Array.</code><code class="sig-name descname">rank</code> param<a class="headerlink" href="#Array.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the rank of the array.</p>
</dd></dl>

<dl class="chpl function">
<dt id="Array.domain">
<em class="property">proc </em><code class="sig-prename descclassname">Array.</code><code class="sig-name descname">domain</code>: this.domain<a class="headerlink" href="#Array.domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the domain of the given array. This domain is constant, implying
that the domain cannot be resized by assigning to its domain field, only
by modifying the domain directly.</p>
</dd></dl>

<dl class="chpl function">
<dt id="reshape">
<em class="property">proc </em><code class="sig-name descname">reshape</code><span class="sig-paren">(</span><em class="sig-param">A: Array</em>, <em class="sig-param">D: Domain</em><span class="sig-paren">)</span>: Array<a class="headerlink" href="#reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the array containing the same values but in the shape
of the new domain. The number of indices in the domain must equal the
number of elements in the array. The elements of the array are copied
into the new array using the default iteration orders over both arrays.</p>
</dd></dl>

<dl class="chpl function">
<dt id="Array.size">
<em class="property">proc </em><code class="sig-prename descclassname">Array.</code><code class="sig-name descname">size</code>: this.domain.idxType<a class="headerlink" href="#Array.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of elements in the array.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="iterators.html" class="btn btn-neutral float-right" title="Iterators" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="domains.html" class="btn btn-neutral float-left" title="Domains" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>