

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Generic Classes and Records &mdash; Chapel Documentation 1.23</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tuples" href="tuples.html" />
    <link rel="prev" title="Special Methods" href="specialMethods.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.23
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.23";
$pagename = "primers/genericClasses";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Primers</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#language-basics">Language Basics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="procedures.html">Procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="specialMethods.html">Special Methods on Classes and Records</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Generic Classes and Records</a></li>
<li class="toctree-l3"><a class="reference internal" href="tuples.html">Tuples</a></li>
<li class="toctree-l3"><a class="reference internal" href="varargs.html">Variadic Arguments (var args)</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="nothingVariables.html">Nothing Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="errorHandling.html">Error Handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#iterators">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#task-parallelism">Task Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#locality">Locality</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-parallelism">Data Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#library-utilities">Library Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#numerical-libraries">Numerical Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#language-overview">Language Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Primers</a> &raquo;</li>
        
      <li>Generic Classes and Records</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/primers/genericClasses.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="generic-classes-and-records">
<span id="primers-genericclasses"></span><h1>Generic Classes and Records<a class="headerlink" href="#generic-classes-and-records" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/chapel-lang/chapel/blob/master/test/release/examples/primers/genericClasses.chpl">View genericClasses.chpl on GitHub</a></p>
<p>This primer covers generic classes and records.</p>
<p>A class is generic if it contains a type alias, contains a field
that is a parameter, or contains a field with no type and no
initialization expression.  The following three classes are each
generic in one of these ways.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TypeAliasField</span> <span class="p">{</span>
  <span class="kd">type</span> <span class="nx">t</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">ParamField</span> <span class="p">{</span>
  <span class="kd">param</span> <span class="nx">p</span><span class="p">:</span> <span class="kt">int</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">tup</span><span class="p">:</span> <span class="nx">p</span><span class="o">*</span><span class="kt">int</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">record</span> <span class="nc">UntypedField</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To create objects from generic classes, the classes must be
instantiated.  This is accomplished by passing the type or
parameter value of the generic fields as an argument to the default
constructor.  In the class with the untyped field, the class is
instantiated using the types of the arguments representing the
generic fields in the default constructor.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">taf</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">TypeAliasField</span><span class="p">(</span><span class="kt">real</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">taf2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TypeAliasField</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;taf = &quot;</span><span class="p">,</span> <span class="nx">taf</span><span class="p">,</span> <span class="s">&quot;, taf2 = &quot;</span><span class="p">,</span> <span class="nx">taf2</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">pf</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">ParamField</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">pf2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ParamField</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;pf = &quot;</span><span class="p">,</span> <span class="nx">pf</span><span class="p">,</span> <span class="s">&quot;, pf2 = &quot;</span><span class="p">,</span> <span class="nx">pf2</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">uf</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">UntypedField</span><span class="p">(</span><span class="mf">3.14</span> <span class="o">+</span> <span class="m">2.72i</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">uf2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UntypedField</span><span class="p">(</span><span class="k">new</span> <span class="nx">ParamField</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;uf = &quot;</span><span class="p">,</span> <span class="nx">uf</span><span class="p">,</span> <span class="s">&quot;, uf2 = &quot;</span><span class="p">,</span> <span class="nx">uf2</span><span class="p">);</span>
</pre></div>
</div>
<p>To specify a generic class type (without creating an instance),
don’t use the <code class="docutils literal notranslate"><span class="pre">new</span></code> keyword and just specify the generic arguments.
For fields that have no types, specify a type for that field,
instead of a value.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">taf3</span><span class="p">:</span> <span class="k">borrowed</span> <span class="nx">TypeAliasField</span><span class="p">(</span><span class="kt">real</span><span class="p">)?;</span>
<span class="kd">var</span> <span class="nx">pf3</span><span class="p">:</span> <span class="k">borrowed</span> <span class="nx">ParamField</span><span class="p">(</span><span class="mi">3</span><span class="p">)?;</span>
<span class="kd">var</span> <span class="nx">uf3</span><span class="p">:</span> <span class="nx">UntypedField</span><span class="p">(</span><span class="kt">complex</span><span class="p">);</span>

<span class="nx">taf3</span> <span class="o">=</span> <span class="nx">taf</span><span class="p">;</span>
<span class="nx">pf3</span> <span class="o">=</span> <span class="nx">pf</span><span class="p">;</span>
<span class="nx">uf3</span> <span class="o">=</span> <span class="nx">uf</span><span class="p">;</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;taf3 = &quot;</span><span class="p">,</span> <span class="nx">taf3</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;pf3 = &quot;</span><span class="p">,</span> <span class="nx">pf3</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;uf3 = &quot;</span><span class="p">,</span> <span class="nx">uf3</span><span class="p">);</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tuples.html" class="btn btn-neutral float-right" title="Tuples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="specialMethods.html" class="btn btn-neutral float-left" title="Special Methods" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>