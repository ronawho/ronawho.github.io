

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>List Operations &mdash; Chapel Documentation 1.23</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Timers" href="timers.html" />
    <link rel="prev" title="fileIO.chpl" href="fileIO.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.23
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.23";
$pagename = "primers/listOps";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Primers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#language-basics">Language Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#iterators">Iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#task-parallelism">Task Parallelism</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#locality">Locality</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-parallelism">Data Parallelism</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#library-utilities">Library Utilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="fileIO.html">File I/O</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="timers.html">Timers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#numerical-libraries">Numerical Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#language-overview">Language Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Primers</a> &raquo;</li>
        
      <li>List Operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/primers/listOps.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="list-operations">
<span id="primers-listops"></span><h1>List Operations<a class="headerlink" href="#list-operations" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/chapel-lang/chapel/blob/master/test/release/examples/primers/listOps.chpl">View listOps.chpl on GitHub</a></p>
<p>The Chapel <a class="reference internal" href="../modules/standard/List.html#module-List" title="List: This module contains the implementation of the list type."><code class="xref chpl chpl-mod docutils literal notranslate"><span class="pre">List</span></code></a> module provides the implementation of the <code class="docutils literal notranslate"><span class="pre">list</span></code>
type. Lists are useful for building up and iterating over a collection
of values in a structured manner.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">private</span> <span class="k">use</span> <span class="nx">List</span><span class="p">;</span>

<span class="kd">config</span> <span class="kd">const</span> <span class="nx">quiet</span><span class="p">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</pre></div>
</div>
<p>We’ll start by declaring a list of <code class="docutils literal notranslate"><span class="pre">int(64)</span></code> and initializing it with the
values contained in the range <code class="docutils literal notranslate"><span class="pre">1..8</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lst1</span><span class="p">:</span> <span class="nx">list</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">8</span><span class="p">;</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after init: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
<p>The most common operation performed on a list is <code class="docutils literal notranslate"><span class="pre">list.append()</span></code>. The
following code appends some integers to the end of our list.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">list</span></code> type guarantees that appending a value to the end of a list
will not invalidate references to existing values.</p>
<p class="last">This is particularly useful in a parallel context. One task may append
values to the end of a list while others index over existing values
and use them in useful work.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">8</span> <span class="k">do</span>
  <span class="nx">lst1</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after appends: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
<p>If a list is intended to be used in parallel, then the <code class="docutils literal notranslate"><span class="pre">parSafe</span></code> field
must be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> at initialization.</p>
<p>Let’s create a new list and <code class="docutils literal notranslate"><span class="pre">list.append()</span></code> values to it in parallel.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lst2</span><span class="p">:</span> <span class="nx">list</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="nx">parSafe</span><span class="o">=</span><span class="kc">true</span><span class="p">);</span>

<span class="k">coforall</span> <span class="nx">tid</span> <span class="kd">in</span> <span class="mi">0</span><span class="o">..</span><span class="mi">3</span> <span class="k">with</span> <span class="p">(</span><span class="kd">ref</span> <span class="nx">lst2</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">8</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">tid</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="nx">i</span><span class="p">;</span>
    <span class="nx">lst2</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Tasks spawned in a coforall loop aren’t guaranteed to execute in a fixed
order. The contents of <code class="docutils literal notranslate"><span class="pre">lst2</span></code> might be out of order even though our loop
size is small (only 4 tasks).</p>
<p>We can call <code class="docutils literal notranslate"><span class="pre">list.sort()</span></code> on our list to be on the safe side.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">!</span><span class="nx">quiet</span> <span class="k">then</span>
  <span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 2 before sort: &quot;</span><span class="p">,</span> <span class="nx">lst2</span><span class="p">);</span>

<span class="nx">lst2</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 2 sorted: &quot;</span><span class="p">,</span> <span class="nx">lst2</span><span class="p">);</span>
</pre></div>
</div>
<p>We can create another new list with values that are copied from <code class="docutils literal notranslate"><span class="pre">lst2</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lst3</span> <span class="o">=</span> <span class="nx">lst2</span><span class="p">;</span>
</pre></div>
</div>
<p>Before zippering <code class="docutils literal notranslate"><span class="pre">lst2</span></code> and <code class="docutils literal notranslate"><span class="pre">lst3</span></code> together, it would be good to vary
their contents a little bit. Let’s <code class="docutils literal notranslate"><span class="pre">list.pop()</span></code> the values from the first
half of <code class="docutils literal notranslate"><span class="pre">lst2</span></code> and <code class="docutils literal notranslate"><span class="pre">list.append()</span></code> them to <code class="docutils literal notranslate"><span class="pre">lst3</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">list.pop()</span></code> operation is O(n) worst case. If you pop a value
from the front of a list, all the other values after it have to be
shifted one to the left.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">while</span> <span class="nx">count</span> <span class="o">&lt;</span> <span class="mi">16</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">elem</span> <span class="o">=</span> <span class="nx">lst2</span><span class="p">.</span><span class="nx">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="nx">lst3</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
  <span class="nx">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 2 after pops: &quot;</span><span class="p">,</span> <span class="nx">lst2</span><span class="p">);</span>
<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 3 after appends: &quot;</span><span class="p">,</span> <span class="nx">lst3</span><span class="p">);</span>
</pre></div>
</div>
<p>Let’s ensure <code class="docutils literal notranslate"><span class="pre">lst2</span></code> and <code class="docutils literal notranslate"><span class="pre">lst3</span></code> have unique values. The <code class="docutils literal notranslate"><span class="pre">list.remove()</span></code>
method takes a secondary argument called <cite>count</cite> which specifies how many
instances of a value to remove. Passing <code class="docutils literal notranslate"><span class="pre">0</span></code> to <cite>count</cite> will remove every
value matching the input from a list.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">elem</span> <span class="kd">in</span> <span class="nx">lst2</span> <span class="k">do</span>
  <span class="nx">lst3</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 3 after removes: &quot;</span><span class="p">,</span> <span class="nx">lst3</span><span class="p">);</span>
</pre></div>
</div>
<p>Even though <code class="docutils literal notranslate"><span class="pre">lst2</span></code> and <code class="docutils literal notranslate"><span class="pre">lst3</span></code> have no values in common, <code class="docutils literal notranslate"><span class="pre">lst3</span></code> still
has some duplicate values that could be removed. We can do that with a
combination of <code class="docutils literal notranslate"><span class="pre">list.remove()</span></code> and <code class="docutils literal notranslate"><span class="pre">list.count()</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>You should be careful not to modify the structure of a list while it is
being iterated over, as this can cause the iterator to exhibit
undefined behavior.</p>
<p class="last">In this example, you’ll notice that we break out of our loop and start
over if we happen to remove duplicate values during the current
iteration.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">uniqued</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="k">while</span> <span class="o">!</span><span class="nx">uniqued</span> <span class="k">do</span>
  <span class="k">for</span> <span class="nx">elem</span> <span class="kd">in</span> <span class="nx">lst3</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">lst3</span><span class="p">.</span><span class="nx">count</span><span class="p">(</span><span class="nx">elem</span><span class="p">);</span>
    <span class="k">if</span> <span class="nx">count</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="p">{</span>
      <span class="nx">lst3</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">uniqued</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 3 after removing duplicates: &quot;</span><span class="p">,</span> <span class="nx">lst3</span><span class="p">);</span>
</pre></div>
</div>
<p>Great. Now we can zipper our two lists together. Let’s double check our work
and make sure that our two lists really share no values in common.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>List iterators are not thread safe. They implicitly assume that their list
is not being modified while iteration is occurring, and it is the user’s
responsibility to abide by this assumption.</p>
<p class="last">It is safe to modify the values of a list (i.e, references returned via
indexing into a list) in a forall loop, but not the list itself.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">forall</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">lst2</span><span class="p">,</span> <span class="nx">lst3</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">assert</span><span class="p">(</span><span class="o">!</span><span class="nx">lst3</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">x</span><span class="p">));</span>
  <span class="nx">assert</span><span class="p">(</span><span class="o">!</span><span class="nx">lst2</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">y</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It seems like <code class="docutils literal notranslate"><span class="pre">lst1</span></code> is just wasting memory at this point. Let’s go ahead
and clear it using <code class="docutils literal notranslate"><span class="pre">list.clear()</span></code>. This will remove every value from
the list and set its size to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">lst1</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after clear: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">list.extend()</span></code> method to merge the contents of our lists
together. Since <code class="docutils literal notranslate"><span class="pre">lst1</span></code> is now empty, we can reuse it to save space.</p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">lst1</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">lst2</span><span class="p">);</span>
<span class="nx">lst1</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">lst3</span><span class="p">);</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after extends: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
<p>You’ll notice that the contents of <code class="docutils literal notranslate"><span class="pre">lst1</span></code> are backwards. We could call
<code class="docutils literal notranslate"><span class="pre">list.sort()</span></code> to fix this problem…or we can fix the contents of the
list ourselves!</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Indexing a list with a value that is out of bounds will cause the
currently running program to halt. Be careful!</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">i</span> <span class="kd">in</span> <span class="mi">0</span><span class="o">..#</span><span class="p">(</span><span class="nx">lst1</span><span class="p">.</span><span class="nx">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">ref</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">lst1</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="kd">ref</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">lst1</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="nx">lst1</span><span class="p">.</span><span class="nx">size</span> <span class="o">/</span> <span class="mi">2</span><span class="p">];</span>
  <span class="kd">const</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after correction: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
<p>If you need to get the specific index of a value contained in a list, you
can use the <code class="docutils literal notranslate"><span class="pre">list.indexOf()</span></code> operator.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">list.indexOf()</span></code> operator will halt if the search range specified
by the arguments <cite>start</cite> and <cite>end</cite> falls outside the bounds of the list.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="nx">x</span> <span class="kd">in</span> <span class="nx">lst2</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">idx</span> <span class="o">=</span> <span class="nx">lst1</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
  <span class="nx">assert</span><span class="p">(</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span> <span class="nx">x</span> <span class="kd">in</span> <span class="nx">lst3</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">idx</span> <span class="o">=</span> <span class="nx">lst1</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
  <span class="nx">assert</span><span class="p">(</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">idx</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And finally, you can use the <code class="docutils literal notranslate"><span class="pre">list.insert()</span></code> method to insert a value
at any position in a list.</p>
<p>As a trivial example, let’s insert the value <code class="docutils literal notranslate"><span class="pre">-100</span></code> at the front of
<code class="docutils literal notranslate"><span class="pre">lst1</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Similar to <code class="docutils literal notranslate"><span class="pre">list.pop()</span></code>, the <code class="docutils literal notranslate"><span class="pre">list.insert()</span></code> operation is O(n) in
the worst case.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">list.insert()</span></code> method will halt if the index specified by the
argument <cite>idx</cite> falls outside the bounds of the list.</p>
</div>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="nx">lst1</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">);</span>

<span class="nx">writeln</span><span class="p">(</span><span class="s">&quot;List 1 after inserting -100: &quot;</span><span class="p">,</span> <span class="nx">lst1</span><span class="p">);</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="timers.html" class="btn btn-neutral float-right" title="Timers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fileIO.html" class="btn btn-neutral float-left" title="fileIO.chpl" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>