

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ReplicatedDist &mdash; Chapel Documentation 1.23</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="StencilDist" href="StencilDist.html" />
    <link rel="prev" title="PrivateDist" href="PrivateDist.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.23
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.23";
$pagename = "modules/dists/ReplicatedDist";
include "../..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingchapel/index.html">Using Chapel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package Modules</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../layoutdist.html">Standard Layouts and Distributions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layoutdist.html#standard-layouts">Standard Layouts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../layoutdist.html#standard-distributions">Standard Distributions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="BlockCycDist.html">BlockCycDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="BlockDist.html">BlockDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="CyclicDist.html">CyclicDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="DimensionalDist2D.html">DimensionalDist2D</a></li>
<li class="toctree-l3"><a class="reference internal" href="HashedDist.html">HashedDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="PrivateDist.html">PrivateDist</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ReplicatedDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="StencilDist.html">StencilDist</a></li>
<li class="toctree-l3"><a class="reference internal" href="dims/BlockCycDim.html">BlockCycDim</a></li>
<li class="toctree-l3"><a class="reference internal" href="dims/BlockDim.html">BlockDim</a></li>
<li class="toctree-l3"><a class="reference internal" href="dims/ReplicatedDim.html">ReplicatedDim</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../layoutdist.html#index">Index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../layoutdist.html">Standard Layouts and Distributions</a> &raquo;</li>
        
      <li>ReplicatedDist</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/dists/ReplicatedDist.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-ReplicatedDist"></span><div class="section" id="replicateddist">
<h1>ReplicatedDist<a class="headerlink" href="#replicateddist" title="Permalink to this headline">¶</a></h1>
<p><strong>Usage</strong></p>
<div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> <span class="nx">ReplicatedDist</span><span class="p">;</span>
</pre></div>
</div>
<dl class="class">
<dt id="ReplicatedDist.Replicated">
<em class="property">class </em><code class="descname">Replicated</code><a class="headerlink" href="#ReplicatedDist.Replicated" title="Permalink to this definition">¶</a></dt>
<dd><p>This Replicated distribution causes a domain and its arrays
to be replicated across the desired locales (all the locales by default).
An array receives a distinct set of elements - a “replicand” -
allocated on each locale.</p>
<p>In other words, a Replicated-distributed domain has
an implicit additional dimension - over the locales,
making it behave as if there is one copy of its indices per locale.</p>
<p>Consistency among the replicands is not preserved automatically.
That is, changes to one replicand of an array are never propagated to
the other replicands by the distribution implementation.
If desired, consistency needs to be maintained by the user.</p>
<p>When accessing a replicated domain or array from a locale <em>not</em> in the
set of target locales, an error is reported if bounds-checking is on;
undefined behavior occurs if it is off.</p>
<p>Otherwise, only the replicand on the current locale is accessed when
referring to the domain or array.</p>
<p><strong>Example</strong></p>
<blockquote>
<div><div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span> <span class="nx">Dbase</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">};</span>  <span class="c1">// A default-distributed domain</span>
<span class="kd">const</span> <span class="nx">Drepl</span> <span class="o">=</span> <span class="nx">Dbase</span> <span class="k">dmapped</span> <span class="nx">Replicated</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">Abase</span><span class="p">:</span> <span class="p">[</span><span class="nx">Dbase</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Arepl</span><span class="p">:</span> <span class="p">[</span><span class="nx">Drepl</span><span class="p">]</span> <span class="kt">int</span><span class="p">;</span>

<span class="c1">// Only the current locale&#39;s replicand is accessed</span>
<span class="nx">Arepl</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

<span class="c1">// Only the current locale&#39;s replicand is accessed</span>
<span class="k">forall</span> <span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">r</span><span class="p">)</span> <span class="kd">in</span> <span class="k">zip</span><span class="p">(</span><span class="nx">Abase</span><span class="p">,</span><span class="nx">Arepl</span><span class="p">)</span> <span class="k">do</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">r</span><span class="p">;</span>
<span class="nx">Abase</span> <span class="o">=</span> <span class="nx">Arepl</span><span class="p">;</span>

<span class="c1">// Access other locales&#39; replicand with the replicand(loc) method</span>
<span class="nx">Arepl</span><span class="p">.</span><span class="nx">replicand</span><span class="p">(</span><span class="nx">Locales</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">=</span> <span class="nx">Arepl</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>See the <a class="reference internal" href="../../primers/replicated.html#primers-replicated"><span class="std std-ref">Replicated Distribution</span></a> primer for more examples of the Replicated
distribution.</p>
<p><strong>Initializer Arguments</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Replicated</span></code> class initializer is defined as follows:</p>
<blockquote>
<div><div class="highlight-chapel notranslate"><div class="highlight"><pre><span></span><span class="k">proc</span> <span class="nf">Replicated.init</span><span class="p">(</span>
  <span class="nx">targetLocales</span><span class="p">:</span> <span class="p">[]</span> <span class="nx">locale</span> <span class="o">=</span> <span class="nx">Locales</span><span class="p">,</span>
  <span class="nx">purposeMessage</span><span class="p">:</span> <span class="kt">string</span> <span class="o">=</span> <span class="s">&quot;used to create a Replicated&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The optional <code class="docutils literal notranslate"><span class="pre">purposeMessage</span></code> may be useful for debugging
when the initializer encounters an error.</p>
<p><strong>Limitations</strong></p>
<ul class="simple">
<li>Only rectangular domains are presently supported.</li>
</ul>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="StencilDist.html" class="btn btn-neutral float-right" title="StencilDist" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="PrivateDist.html" class="btn btn-neutral float-left" title="PrivateDist" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>