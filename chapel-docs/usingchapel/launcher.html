

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chapel Launchers &mdash; Chapel Documentation 1.23</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Chapel Tasks" href="tasks.html" />
    <link rel="prev" title="Multilocale Chapel Execution" href="multilocale.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

<a href="../index.html" class="icon icon-home"> Chapel Documentation

<!-- display version if button won't be rendered -->
<?php if (false) { ?>
<br>1.23
<?php } ?>

</a>

<?php
// Variables given by sphinx
$chplTitle = "1.23";
$pagename = "usingchapel/launcher";
include "..//versionButton.php";
?>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Compiling and Running Chapel</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="QUICKSTART.html">Quickstart Instructions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using Chapel</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="prereqs.html">Chapel Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="chplenv.html">Setting up Your Environment for Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="building.html">Building Chapel</a></li>
<li class="toctree-l2"><a class="reference internal" href="compiling.html">Compiling Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="man.html">Chapel Man Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="executing.html">Executing Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="multilocale.html">Multilocale Chapel Execution</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Chapel Launchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#currently-supported-launchers">Currently Supported Launchers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forwarding-environment-variables">Forwarding Environment Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#chpl-rt-masterip">CHPL_RT_MASTERIP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#chpl-rt-workerip">CHPL_RT_WORKERIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-slurm">Using Slurm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#common-slurm-settings">Common Slurm Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-any-ssh-based-launcher-with-slurm">Using any SSH-based launcher with Slurm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#changing-the-real-binary-suffix">Changing the _real binary suffix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bypassing-the-launcher">Bypassing the launcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-launchers">Additional launchers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Chapel Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging Chapel Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="bugs.html">Reporting Chapel Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../platforms/index.html">Platform-Specific Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technotes/index.html">Technical Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Writing Chapel Programs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/reference.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Hello World Variants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../primers/index.html">Primers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/spec/index.html">Language Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../builtins/index.html">Built-in Types and Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/standard.html">Standard Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/packages.html">Package Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/layoutdist.html">Standard Layouts and Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users-guide/index.html">Chapel Users Guide (WIP)</a></li>
</ul>
<p class="caption"><span class="caption-text">Language History</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language/evolution.html">Chapel Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/archivedSpecs.html">Documentation Archives</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Chapel Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Using Chapel</a> &raquo;</li>
        
      <li>Chapel Launchers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usingchapel/launcher.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chapel-launchers">
<span id="readme-launcher"></span><h1>Chapel Launchers<a class="headerlink" href="#chapel-launchers" title="Permalink to this headline">¶</a></h1>
<p>When compiling Chapel programs for multiple locales, a launcher binary
is typically created that will execute the appropriate command(s) to
get your program started. For example, when compiling for multiple
locales, typically two binaries will be generated by the compiler
(e.g., myprogram and myprogram_real). The first binary contains code to get
your program up and running on multiple locales while the second
contains your actual program code.</p>
<p>The goals of the launcher binary are:</p>
<ol class="arabic simple">
<li>to wrap details of job startup in a portable way so that new users
can quickly get Chapel programs up and running on an unfamiliar
platform.</li>
<li>to perform command-line parsing and error checking prior to
waiting in a queue or firing off a parallel job in order to save
time and resources related to simple errors/typos in the command
line.</li>
<li>to preserve Chapel’s global-view programming model by permitting
the user to run their program using a single binary (corresponding
to the single logical task that executes main()) without getting
bogged down in questions of numbers of nodes, numbers of cores per
node, numbers of program instances to start up, etc.</li>
<li>if necessary, to coordinate runtime functional activity, such as
I/O.</li>
</ol>
<p>Executing a Chapel program using the verbose (<code class="docutils literal notranslate"><span class="pre">-v</span></code>) flag will typically
print out the command(s) used to launch the program, along with any
environment variables the launcher set on its behalf.</p>
<p>Executing using the help (<code class="docutils literal notranslate"><span class="pre">-h</span></code>/<code class="docutils literal notranslate"><span class="pre">--help</span></code>) flag will typically print out
any launcher-specific options in addition to the normal help message for
the program itself.</p>
<div class="section" id="currently-supported-launchers">
<h2>Currently Supported Launchers<a class="headerlink" href="#currently-supported-launchers" title="Permalink to this headline">¶</a></h2>
<p>Currently supported launchers include:</p>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Launcher Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>amudprun</td>
<td>GASNet launcher for programs running over UDP</td>
</tr>
<tr class="row-odd"><td>aprun</td>
<td>Cray application launcher using aprun</td>
</tr>
<tr class="row-even"><td>gasnetrun_ibv</td>
<td>GASNet launcher for programs running over Infiniband</td>
</tr>
<tr class="row-odd"><td>gasnetrun_mpi</td>
<td>GASNet launcher for programs using the MPI conduit</td>
</tr>
<tr class="row-even"><td>mpirun4ofi</td>
<td>provisional launcher for <code class="docutils literal notranslate"><span class="pre">CHPL_COMM=ofi</span></code> on non-Cray X* systems</td>
</tr>
<tr class="row-odd"><td>pbs-aprun</td>
<td>Cray application launcher using PBS (qsub) + aprun</td>
</tr>
<tr class="row-even"><td>pbs-gasnetrun_ibv</td>
<td>GASNet launcher using PBS (qsub) over Infiniband</td>
</tr>
<tr class="row-odd"><td>slurm-gasnetrun_ibv</td>
<td>GASNet launcher using SLURM over Infiniband</td>
</tr>
<tr class="row-even"><td>slurm-gasnetrun_mpi</td>
<td>GASNet launcher using SLURM over MPI</td>
</tr>
<tr class="row-odd"><td>slurm-srun</td>
<td>native SLURM launcher</td>
</tr>
<tr class="row-even"><td>smp</td>
<td>GASNet launcher for programs running over shared-memory</td>
</tr>
<tr class="row-odd"><td>none</td>
<td>do not use a launcher</td>
</tr>
</tbody>
</table>
<p>A specific launcher can be explicitly requested by setting the
<code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER</span></code> environment variable. For the specific case of the
<code class="docutils literal notranslate"><span class="pre">mpirun4ofi</span></code> launcher, please see <a class="reference internal" href="../platforms/libfabric.html#readme-libfabric"><span class="std std-ref">Using Chapel with libfabric</span></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER</span></code> is left unset, a default is picked as follows:</p>
<ul>
<li><p class="first">if <code class="docutils literal notranslate"><span class="pre">CHPL_PLATFORM</span></code> is cray-xc:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">If</th>
<th class="head">CHPL_LAUNCHER</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>both aprun and srun in user’s path</td>
<td>none</td>
</tr>
<tr class="row-odd"><td>aprun in user’s path</td>
<td>aprun</td>
</tr>
<tr class="row-even"><td>srun in user’s path</td>
<td>slurm-srun</td>
</tr>
<tr class="row-odd"><td>otherwise</td>
<td>none</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">otherwise, if <code class="docutils literal notranslate"><span class="pre">CHPL_COMM</span></code> is gasnet:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">If</th>
<th class="head">CHPL_LAUNCHER</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CHPL_COMM_SUBSTRATE=ibv</td>
<td>gasnetrun_ibv</td>
</tr>
<tr class="row-odd"><td>CHPL_COMM_SUBSTRATE=mpi</td>
<td>gasnetrun_mpi</td>
</tr>
<tr class="row-even"><td>CHPL_COMM_SUBSTRATE=mxm</td>
<td>gasnetrun_ibv</td>
</tr>
<tr class="row-odd"><td>CHPL_COMM_SUBSTRATE=smp</td>
<td>smp</td>
</tr>
<tr class="row-even"><td>CHPL_COMM_SUBSTRATE=udp</td>
<td>amudprun</td>
</tr>
<tr class="row-odd"><td>otherwise</td>
<td>none</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">otherwise <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER</span></code> is set to none</p>
</li>
</ul>
<p>If the launcher binary does not work for your system (due to an
installation-specific configuration, e.g.), you can often use the <code class="docutils literal notranslate"><span class="pre">-v</span></code>
flag to capture the commands that the launcher executes on your behalf
and customize them for your needs.</p>
</div>
<div class="section" id="forwarding-environment-variables">
<h2>Forwarding Environment Variables<a class="headerlink" href="#forwarding-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Chapel launchers generally arrange for environment variables to be
forwarded to worker processes. However, this strategy is not always
reliable. The remote system may override some environment variables, and
some launchers might not correctly forward all environment variables.</p>
<div class="section" id="chpl-rt-masterip">
<span id="id1"></span><h3>CHPL_RT_MASTERIP<a class="headerlink" href="#chpl-rt-masterip" title="Permalink to this headline">¶</a></h3>
<p>This environment variable is used to specify the IP address which should be used
to connect.  By default, the node creating the connection will pass the result
of <code class="docutils literal notranslate"><span class="pre">gethostname()</span></code> on to the nodes that need to connect to it, which will
resolve that to an IP address using <code class="docutils literal notranslate"><span class="pre">gethostbyname()</span></code>.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">CHPL_COMM</span> <span class="pre">==</span> <span class="pre">gasnet</span></code>, this will also be used to set the value of
<code class="docutils literal notranslate"><span class="pre">GASNET_MASTERIP</span></code>, which corresponds to the hostname of the master node (see
<a class="reference external" href="https://gasnet.lbl.gov/dist/udp-conduit/README">https://gasnet.lbl.gov/dist/udp-conduit/README</a> ).</p>
</div>
<div class="section" id="chpl-rt-workerip">
<span id="id2"></span><h3>CHPL_RT_WORKERIP<a class="headerlink" href="#chpl-rt-workerip" title="Permalink to this headline">¶</a></h3>
<p>This environment variable is used to specify the IP address which should be used
to communicate between worker nodes.  By default, worker nodes will communicate
among themselves using the same interface used to connect to the master node
(see <a class="reference internal" href="#chpl-rt-masterip"><span class="std std-ref">CHPL_RT_MASTERIP</span></a>, above).</p>
<p>When <code class="docutils literal notranslate"><span class="pre">CHPL_COMM</span> <span class="pre">==</span> <span class="pre">gasnet</span></code>, this will also be used to set the value of
<code class="docutils literal notranslate"><span class="pre">GASNET_WORKERIP</span></code> (see <a class="reference external" href="https://gasnet.lbl.gov/dist/udp-conduit/README">https://gasnet.lbl.gov/dist/udp-conduit/README</a> ).</p>
</div>
</div>
<div class="section" id="using-slurm">
<span id="id3"></span><h2>Using Slurm<a class="headerlink" href="#using-slurm" title="Permalink to this headline">¶</a></h2>
<p>To use native Slurm, set:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CHPL_LAUNCHER</span><span class="o">=</span>slurm-srun
</pre></div>
</div>
<p>On Cray systems, this will happen automatically if srun is found in your
path, but not when both srun and aprun are found in your path. Native
Slurm is the best option where it works, but at the time of this writing,
there are problems with it when combined with <code class="docutils literal notranslate"><span class="pre">CHPL_COMM=gasnet</span></code> and the
UDP or InfiniBand conduits. So, for these configurations please see:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="../platforms/infiniband.html#readme-infiniband"><span class="std std-ref">Using Chapel with InfiniBand</span></a> for information about using Slurm with
InfiniBand.</li>
<li><a class="reference internal" href="../platforms/omnipath.html#readme-omnipath"><span class="std std-ref">Using Chapel with OmniPath</span></a> for information about using Slurm with
OmniPath.</li>
<li><a class="reference internal" href="../platforms/udp.html#using-udp-slurm"><span class="std std-ref">Using the UDP Conduit with Slurm</span></a> for information about using Slurm with the UDP
conduit</li>
</ul>
</div></blockquote>
<div class="section" id="common-slurm-settings">
<h3>Common Slurm Settings<a class="headerlink" href="#common-slurm-settings" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Optionally, you can  specify a node access mode by setting the environment
variable <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_NODE_ACCESS</span></code>. It will default to <code class="docutils literal notranslate"><span class="pre">exclusive</span></code>
access, but can be overridden to:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">shared</span></code> to give shared access to nodes</li>
<li><code class="docutils literal notranslate"><span class="pre">unset</span></code> to use the system default and not specify a node access mode</li>
<li><code class="docutils literal notranslate"><span class="pre">exclusive</span></code> to give exclusive access to nodes (this is the default)</li>
</ul>
</div></blockquote>
<p>For example, to grant shared node access, set:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CHPL_LAUNCHER_NODE_ACCESS</span><span class="o">=</span>shared
</pre></div>
</div>
</li>
<li><p class="first">Optionally, you can specify a slurm partition by setting the environment
variable <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_PARTITION</span></code>. For example, to use the ‘debug’
partition, set:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CHPL_LAUNCHER_PARTITION</span><span class="o">=</span>debug
</pre></div>
</div>
</li>
<li><p class="first">Optionally, you can specify a slurm constraint by setting the environment
variable <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_CONSTRAINT</span></code>. For example, to use nodes with the
‘cal’ feature (as defined in the slurm.conf file), set:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CHPL_LAUNCHER_CONSTRAINT</span><span class="o">=</span>cal
</pre></div>
</div>
</li>
<li><p class="first">If the environment variable <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_USE_SBATCH</span></code> is defined then
sbatch is used to launch the job to the queue system, rather than
running it interactively as usual. In this mode, the output will be
written by default to a file called &lt;executableName&gt;.&lt;jobID&gt;.out. The
environment variable <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_SLURM_OUTPUT_FILENAME</span></code> can be used
to specify a different filename for the output.</p>
</li>
</ul>
</div>
<div class="section" id="using-any-ssh-based-launcher-with-slurm">
<span id="ssh-launchers-with-slurm"></span><h3>Using any SSH-based launcher with Slurm<a class="headerlink" href="#using-any-ssh-based-launcher-with-slurm" title="Permalink to this headline">¶</a></h3>
<p>It is possible to use any SSH-based launcher with Slurm, with some additionally
effort. This strategy can come in handy if other launchers are not working.
However, launchers such as <cite>slurm-srun</cite> and <cite>slurm-gasnetrun_ibv</cite> offer a
better experience.</p>
<p>First, let’s see how to use an SSH-based launcher with an interactive <cite>salloc</cite>
session. Here we will assume the UDP conduit, but any other launcher supporting
SSH can be configured analogously.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compile a sample program</span>
chpl -o hello6-taskpar-dist examples/hello6-taskpar-dist.chpl

<span class="c1"># Reserve 2 nodes for an interactive run</span>
salloc -N <span class="m">2</span>
<span class="c1"># Then, within the salloc shell</span>

  <span class="c1"># Specify that ssh should be used</span>
  <span class="nb">export</span> <span class="nv">GASNET_SPAWNFN</span><span class="o">=</span>S
  <span class="c1"># Specify the list of nodes to use</span>
  <span class="nb">export</span> <span class="nv">GASNET_SSH_SERVERS</span><span class="o">=</span><span class="sb">`</span>scontrol show hostnames <span class="p">|</span> xargs <span class="nb">echo</span><span class="sb">`</span>
  <span class="c1"># Run the program on the 2 reserved nodes.</span>
  ./hello6-taskpar-dist -nl <span class="m">2</span>
</pre></div>
</div>
<p>This strategy can also be used within an <em>sbatch</em> script. Here is an
example script to save to the file <cite>job.bash</cite>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#SBATCH -t 0:10:0</span>
<span class="c1">#SBATCH --nodes=2</span>
<span class="c1">#SBATCH --exclusive</span>
<span class="c1">#SBATCH --partition=chapel</span>
<span class="c1">#SBATCH --output=job.output</span>

<span class="nb">export</span> <span class="nv">GASNET_SPAWNFN</span><span class="o">=</span>S
<span class="nb">export</span> <span class="nv">GASNET_SSH_SERVERS</span><span class="o">=</span><span class="sb">`</span>scontrol show hostnames <span class="p">|</span> xargs <span class="nb">echo</span><span class="sb">`</span>

./hello6-taskpar-dist -nl <span class="m">2</span>
</pre></div>
</div>
<p>To run this job, use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbatch job.bash
</pre></div>
</div>
<p>and when it completes, the output will be available in <cite>job.output</cite> as
specified in <cite>job.bash</cite>.</p>
</div>
</div>
<div class="section" id="changing-the-real-binary-suffix">
<h2>Changing the _real binary suffix<a class="headerlink" href="#changing-the-real-binary-suffix" title="Permalink to this headline">¶</a></h2>
<p>In order to support profiling tools that produce new binaries for the
launcher to execute, the suffix of the real binary executed by the
launcher may be changed with the <code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER_SUFFIX</span></code> environment
variable. If this variable is unset, the suffix defaults to “_real”,
matching the compiler’s output.</p>
</div>
<div class="section" id="bypassing-the-launcher">
<h2>Bypassing the launcher<a class="headerlink" href="#bypassing-the-launcher" title="Permalink to this headline">¶</a></h2>
<p>If the Chapel launcher capability fails you completely, set
<code class="docutils literal notranslate"><span class="pre">CHPL_LAUNCHER</span></code> to none, recompile, and execute the resulting binary
according to the following rules using tools and queueing mechanisms
appropriate for your system:</p>
<ul class="simple">
<li>on most systems, the number of locales should be equal to the number
of nodes on which you execute. That in turn should match the number
of copies of the program that you are running.</li>
<li>some queueing systems require you to specify the number of cores to
use per node. For best results, you will typically want to use all
of them. All intra-node parallelism is typically implemented using
Chapel’s threading layer (e.g., pthreads), so extra copies of the
binary are not required per core.</li>
<li>in our experience, this technique does not work for InfiniBand
configurations.</li>
</ul>
</div>
<div class="section" id="additional-launchers">
<h2>Additional launchers<a class="headerlink" href="#additional-launchers" title="Permalink to this headline">¶</a></h2>
<p>In addition to the supported launchers listed above there are several others
that are not actively maintained but may still work.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Launcher Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mpirun</td>
<td>launch using mpirun (no mpi comm currently)</td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tasks.html" class="btn btn-neutral float-right" title="Chapel Tasks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="multilocale.html" class="btn btn-neutral float-left" title="Multilocale Chapel Execution" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Hewlett Packard Enterprise Development LP

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 



</body>
</html>